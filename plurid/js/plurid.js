/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./app.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./app.js":
/*!****************!*\
  !*** ./app.js ***!
  \****************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ./src/js/app.js */ \"./src/js/app.js\");\n\n__webpack_require__(/*! ./src/sass/app.scss */ \"./src/sass/app.scss\");\n\n//# sourceURL=webpack:///./app.js?");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack:///(webpack)/buildin/global.js?");

/***/ }),

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ./source/main/state */ \"./src/js/source/main/state.js\");\n\n__webpack_require__(/*! ./source/main/themes */ \"./src/js/source/main/themes.js\");\n\n__webpack_require__(/*! ./source/main/branch */ \"./src/js/source/main/branch.js\");\n\n__webpack_require__(/*! ./source/main/container */ \"./src/js/source/main/container.js\");\n\n__webpack_require__(/*! ./source/main/content */ \"./src/js/source/main/content.js\");\n\n__webpack_require__(/*! ./source/main/root */ \"./src/js/source/main/root.js\");\n\n__webpack_require__(/*! ./source/main/sheet */ \"./src/js/source/main/sheet.js\");\n\n__webpack_require__(/*! ./source/main/solid */ \"./src/js/source/main/solid.js\");\n\n__webpack_require__(/*! ./source/main/page */ \"./src/js/source/main/page.js\");\n\n__webpack_require__(/*! ./source/main/link */ \"./src/js/source/main/link.js\");\n\n__webpack_require__(/*! ./source/main/shadow */ \"./src/js/source/main/shadow.js\");\n\n__webpack_require__(/*! ./source/main/space */ \"./src/js/source/main/space.js\");\n\n__webpack_require__(/*! ./source/main/options */ \"./src/js/source/main/options.js\");\n\n__webpack_require__(/*! ./source/main/logic */ \"./src/js/source/main/logic.js\");\n\n__webpack_require__(/*! ./source/dev */ \"./src/js/source/dev.js\");\n\n//# sourceURL=webpack:///./src/js/app.js?");

/***/ }),

/***/ "./src/js/source/core/logic/directions.js":
/*!************************************************!*\
  !*** ./src/js/source/core/logic/directions.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDirection = getDirection;\nlet direction = \"\";\nlet threshold = 0;\nlet absThreshold = 10;\n\nfunction getDirection(event) {\n  const wheelDeltaX = event.wheelDeltaX;\n  const wheelDeltaY = event.wheelDeltaY; // console.log(wheelDeltaX);\n  // console.log(wheelDeltaY);\n\n  const absWheelDeltaX = Math.abs(wheelDeltaX);\n  const absWheelDeltaY = Math.abs(wheelDeltaY);\n\n  if (wheelDeltaX > threshold && absWheelDeltaY < absThreshold && absWheelDeltaX > absWheelDeltaY) {\n    direction = \"left\";\n  }\n\n  if (wheelDeltaX < threshold && absWheelDeltaY < absThreshold && absWheelDeltaX > absWheelDeltaY) {\n    direction = \"right\";\n  }\n\n  if (wheelDeltaY > threshold && absWheelDeltaX < absThreshold && absWheelDeltaY > absWheelDeltaX) {\n    direction = \"up\";\n  }\n\n  if (wheelDeltaY < threshold && absWheelDeltaX < absThreshold && absWheelDeltaY > absWheelDeltaX) {\n    direction = \"down\";\n  } // if (positionX < threshold && positionY < threshold) {\n  //     direction = \"upleft\";\n  // }\n  // if (positionX < threshold && positionY > threshold ) {\n  //     direction = \"downleft\";\n  // }\n  // if (positionX > threshold && positionY > threshold ) {\n  //     direction = \"downright\";\n  // }\n  // if (positionX > threshold && positionY < threshold ) {\n  //     direction = \"upright\";\n  // }\n  // console.log('----- direction: ', direction);\n  // console.log('movementX: ', event.movementX);\n  // console.log('movementY: ', event.movementY);\n\n\n  return direction;\n}\n\n//# sourceURL=webpack:///./src/js/source/core/logic/directions.js?");

/***/ }),

/***/ "./src/js/source/core/logic/get-plurid.js":
/*!************************************************!*\
  !*** ./src/js/source/core/logic/get-plurid.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPlurid = getPlurid;\n\nfunction getPlurid() {\n  let selectedPluridRoot = document.getElementById(pluridScene.meta.activePlurid);\n  let selectedPluridSheet = document.getElementById(pluridScene.meta.activeSheet);\n  return {\n    root: selectedPluridRoot,\n    sheet: selectedPluridSheet\n  };\n}\n\n//# sourceURL=webpack:///./src/js/source/core/logic/get-plurid.js?");

/***/ }),

/***/ "./src/js/source/core/logic/gyroscope.js":
/*!***********************************************!*\
  !*** ./src/js/source/core/logic/gyroscope.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _quaternion = __webpack_require__(/*! ./quaternion */ \"./src/js/source/core/logic/quaternion.js\");\n\nvar _matrix = __webpack_require__(/*! ./matrix */ \"./src/js/source/core/logic/matrix.js\");\n\nvar _transformsCore = __webpack_require__(/*! ./transforms-core */ \"./src/js/source/core/logic/transforms-core.js\");\n\n// Z - X - Y\n// processGyro(0, 0, 30);\n// var gyro = quaternionFromAxisAngle(0, 0, 0, 0);\n//get orientation info\nif (window.DeviceOrientationEvent) {\n  window.addEventListener(\"deviceorientation\", event => {\n    let plurid = document.getElementById(pluridScene.meta.activePlurid);\n    processGyro(event.alpha, event.beta, event.gamma, plurid);\n  }, true);\n}\n\nfunction processGyro(alpha, beta, gamma, plurid) {\n  document.getElementById(\"alpha\").innerHTML = alpha.toFixed(5);\n  document.getElementById(\"beta\").innerHTML = beta.toFixed(5);\n  document.getElementById(\"gamma\").innerHTML = gamma.toFixed(5); // X\n\n  beta = -beta; // beta = 0;\n  // Y\n\n  gamma = -gamma; // gamma = 0;\n  // Z\n\n  alpha = 0;\n  let valRotationMatrix = (0, _matrix.rotateMatrix)(beta, gamma, alpha);\n  var translateX = (0, _transformsCore.getTransformTranslate)(plurid).translateX;\n  var translateY = (0, _transformsCore.getTransformTranslate)(plurid).translateY;\n  var translateZ = 0;\n  var scale = (0, _transformsCore.getTransformScale)(plurid).scale;\n  var valTranslationMatrix = (0, _matrix.translateMatrix)(translateX, translateY, translateZ);\n  var valScaleMatrix = (0, _matrix.scaleMatrix)(scale);\n  var yPos = (0, _transformsCore.getyPos)(event, plurid);\n  (0, _transformsCore.setTransform)(plurid, valRotationMatrix, valTranslationMatrix, valScaleMatrix, yPos); // gyro = computeQuaternionFromEulers(alpha, beta, gamma);\n  // document.getElementById(\"x\").innerHTML=gyro.x.toFixed(5);\n  // document.getElementById(\"y\").innerHTML=gyro.y.toFixed(5);\n  // document.getElementById(\"z\").innerHTML=gyro.z.toFixed(5);\n  // document.getElementById(\"w\").innerHTML=gyro.w.toFixed(5);\n}\n\n//# sourceURL=webpack:///./src/js/source/core/logic/gyroscope.js?");

/***/ }),

/***/ "./src/js/source/core/logic/matrix.js":
/*!********************************************!*\
  !*** ./src/js/source/core/logic/matrix.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rotateMatrix = rotateMatrix;\nexports.translateMatrix = translateMatrix;\nexports.scaleMatrix = scaleMatrix;\nexports.multiplyMatrices = multiplyMatrices;\nexports.multiplyArrayOfMatrices = multiplyArrayOfMatrices;\nexports.matrixArrayToCssMatrix = matrixArrayToCssMatrix;\n\nvar _quaternion = __webpack_require__(/*! ./quaternion */ \"./src/js/source/core/logic/quaternion.js\");\n\nfunction rotateMatrix(xAngle, yAngle, zAngle = 0) {\n  // document.getElementById(\"alpha\").innerHTML= zAngle.toFixed(5);\n  // document.getElementById(\"beta\").innerHTML= xAngle.toFixed(5);\n  // document.getElementById(\"gamma\").innerHTML = yAngle.toFixed(5);\n  let xQuaternion = (0, _quaternion.computeQuaternionFromEulers)(0, xAngle, 0);\n  let yQuaternion = (0, _quaternion.computeQuaternionFromEulers)(0, 0, yAngle);\n  let zQuaternion = (0, _quaternion.computeQuaternionFromEulers)(zAngle, 0, 0);\n  let quartenionMultiplication = (0, _quaternion.quaternionMultiply)([yQuaternion, xQuaternion, zQuaternion]); // document.getElementById(\"x\").innerHTML=quartenionMultiplication.x.toFixed(5);\n  // document.getElementById(\"y\").innerHTML=quartenionMultiplication.y.toFixed(5);\n  // document.getElementById(\"z\").innerHTML=quartenionMultiplication.z.toFixed(5);\n  // document.getElementById(\"w\").innerHTML=quartenionMultiplication.w.toFixed(5);\n\n  let rotationMatrix = (0, _quaternion.makeRotationMatrixFromQuaternion)(quartenionMultiplication);\n  return rotationMatrix;\n} // Matrix Operations for Single Value (De-)Composition\n// Sourced from https://github.com/gregtatum/mdn-webgl/blob/master/library/matrices.js\n// export function rotateXMatrix(a) {\n//     var cos = Math.cos;\n//     var sin = Math.sin;\n//     return [\n//          1,       0,        0,     0,\n//          0,  cos(a),  -sin(a),     0,\n//          0,  sin(a),   cos(a),     0,\n//          0,       0,        0,     1\n//     ];\n// }\n// export function rotateYMatrix(a) {\n//     var cos = Math.cos;\n//     var sin = Math.sin;\n//     return [\n//          cos(a),   0, sin(a),   0,\n//               0,   1,      0,   0,\n//         -sin(a),   0, cos(a),   0,\n//               0,   0,      0,   1\n//     ];\n// }\n// export function rotateZMatrix(a) {\n//     var cos = Math.cos;\n//     var sin = Math.sin;\n//     return [\n//         cos(a), -sin(a),    0,    0,\n//         sin(a),  cos(a),    0,    0,\n//              0,       0,    1,    0,\n//              0,       0,    0,    1\n//     ];\n// }\n\n\nfunction translateMatrix(x, y, z) {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1];\n}\n\nfunction scaleMatrix(s) {\n  return [s, 0, 0, 0, 0, s, 0, 0, 0, 0, s, 0, 0, 0, 0, 1];\n}\n\nfunction multiplyMatrices(a, b) {\n  // https://github.com/toji/gl-matrix/blob/master/src/gl-matrix/mat4.js#L306-L337\n  var result = [];\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3],\n      a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7],\n      a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11],\n      a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  result[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  result[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  result[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  result[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  result[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  result[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  result[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  result[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  result[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  result[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  result[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  result[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  result[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  result[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  result[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  result[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return result;\n}\n\nfunction multiplyArrayOfMatrices(matrices) {\n  var inputMatrix = matrices[0];\n\n  for (var i = 1; i < matrices.length; i++) {\n    inputMatrix = multiplyMatrices(inputMatrix, matrices[i]);\n  }\n\n  return inputMatrix;\n} // Create the matrix3d style property from a matrix array\n\n\nfunction matrixArrayToCssMatrix(array) {\n  return 'matrix3d(' + array.join(',') + ')';\n}\n\n//# sourceURL=webpack:///./src/js/source/core/logic/matrix.js?");

/***/ }),

/***/ "./src/js/source/core/logic/quaternion.js":
/*!************************************************!*\
  !*** ./src/js/source/core/logic/quaternion.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.computeQuaternionFromEulers = computeQuaternionFromEulers;\nexports.quaternionFromAxisAngle = quaternionFromAxisAngle;\nexports.inverseQuaternion = inverseQuaternion;\nexports.conjugateQuaternion = conjugateQuaternion;\nexports.quaternionMultiply = quaternionMultiply;\nexports.rotatePointViaQuaternion = rotatePointViaQuaternion;\nexports.makeRotationMatrixFromQuaternion = makeRotationMatrixFromQuaternion;\n\n// // testing quaternions\n// let quaternionX0_Y45_Z0 = {\n//     x: 0,\n//     y: 0.38268,\n//     z: 0,\n//     w: 0.92388\n// }\n// let quaternionX45_Y0_Z0 = {\n//     x: 0.38268,\n//     y: 0,\n//     z: 0,\n//     w: 0.92388\n// }\n// let result = quaternionMultiply([ quaternionX0_Y45_Z0, quaternionX45_Y0_Z0]);\n// let a = makeRotationMatrixFromQuaternion(result);\n// let b = '';\n// for (let c of a) {\n//     b = b + c + ', '\n// }\n// console.log(b);\n// let y_45_quat = computeQuaternionFromEulers(0, 0, 45);\n// let rot_mat_y_45 = makeRotationMatrixFromQuaternion(y_45_quat);\n// console.log(rot_mat_y_45);\n// let rot_mat_y_45_css = '';\n// for (let el of rot_mat_y_45) {\n//     rot_mat_y_45_css = rot_mat_y_45_css + el + ', '\n// }\n// console.log(rot_mat_y_45_css);\n// let x_45_quat = computeQuaternionFromEulers(0, 45, 0);\n// let rot_mat_x_45 = makeRotationMatrixFromQuaternion(x_45_quat);\n// console.log(rot_mat_x_45);\n// let rot_mat_x_45_css = '';\n// for (let el of rot_mat_x_45) {\n//     rot_mat_x_45_css = rot_mat_x_45_css + el + ', '\n// }\n// console.log(rot_mat_x_45_css);\n// let quat_mul = quaternionMultiply([y_45_quat, x_45_quat]);\n// console.log(quat_mul);\n// let rot_mat_x_y_45 = makeRotationMatrixFromQuaternion(quat_mul);\n// console.log(rot_mat_x_y_45);\n// let rot_mat_x_y_45_css = '';\n// for (let el of rot_mat_x_y_45) {\n//     rot_mat_x_y_45_css = rot_mat_x_y_45_css + el + ', '\n// }\n// console.log(rot_mat_x_y_45_css);\nfunction makeQuaternion(x, y, z, w) {\n  return {\n    x: x,\n    y: y,\n    z: z,\n    w: w\n  };\n} //alpha around Z axis, beta around X axis, and gamma around Y axis\n\n\nfunction computeQuaternionFromEulers(alpha, beta, gamma) {\n  let x = degToRad(beta); // beta value\n\n  let y = degToRad(gamma); // gamma value\n\n  let z = degToRad(alpha); // alpha value\n\n  let cX = Math.cos(x / 2);\n  let cY = Math.cos(y / 2);\n  let cZ = Math.cos(z / 2);\n  let sX = Math.sin(x / 2);\n  let sY = Math.sin(y / 2);\n  let sZ = Math.sin(z / 2);\n  let w = cX * cY * cZ - sX * sY * sZ;\n  x = sX * cY * cZ - cX * sY * sZ;\n  y = cX * sY * cZ + sX * cY * sZ;\n  z = cX * cY * sZ + sX * sY * cZ;\n  return makeQuaternion(x, y, z, w);\n}\n\nfunction quaternionFromAxisAngle(x, y, z, angle) {\n  let q = {};\n  let halfAngle = angle / 2;\n  q.x = x * Math.sin(halfAngle);\n  q.y = y * Math.sin(halfAngle);\n  q.z = z * Math.sin(halfAngle);\n  q.w = Math.cos(halfAngle);\n  return q;\n}\n\nfunction inverseQuaternion(quaternion) {\n  return makeQuaternion(quaternion.x, quaternion.y, quaternion.z, -quaternion.w);\n}\n\nfunction conjugateQuaternion(quaternion) {\n  return makeQuaternion(-quaternion.x, -quaternion.y, -quaternion.z, quaternion.w);\n}\n\nfunction quaternionMultiply(quaternionArray) {\n  let temporaryQuaternion = quaternionArray[0];\n  let copyQuaternion = {\n    x: temporaryQuaternion.x,\n    y: temporaryQuaternion.y,\n    z: temporaryQuaternion.z,\n    w: temporaryQuaternion.w\n  };\n\n  for (let i = 1; i < quaternionArray.length; i++) {\n    let secondaryTemporaryQuaternion = quaternionArray[i];\n    let nextQuaternion = {\n      x: secondaryTemporaryQuaternion.x,\n      y: secondaryTemporaryQuaternion.y,\n      z: secondaryTemporaryQuaternion.z,\n      w: secondaryTemporaryQuaternion.w\n    };\n    let w = copyQuaternion.w * nextQuaternion.w - copyQuaternion.x * nextQuaternion.x - copyQuaternion.y * nextQuaternion.y - copyQuaternion.z * nextQuaternion.z;\n    let x = copyQuaternion.x * nextQuaternion.w + copyQuaternion.w * nextQuaternion.x + copyQuaternion.y * nextQuaternion.z - copyQuaternion.z * nextQuaternion.y;\n    let y = copyQuaternion.y * nextQuaternion.w + copyQuaternion.w * nextQuaternion.y + copyQuaternion.z * nextQuaternion.x - copyQuaternion.x * nextQuaternion.z;\n    let z = copyQuaternion.z * nextQuaternion.w + copyQuaternion.w * nextQuaternion.z + copyQuaternion.x * nextQuaternion.y - copyQuaternion.y * nextQuaternion.x;\n    copyQuaternion.x = x;\n    copyQuaternion.y = y;\n    copyQuaternion.z = z;\n    copyQuaternion.w = w;\n  }\n\n  return copyQuaternion;\n}\n\nfunction rotatePointViaQuaternion(pointRotate, quaternion) {\n  var temporaryQuaternion = {\n    x: pointRotate[0],\n    y: pointRotate[1],\n    z: pointRotate[2],\n    w: 0\n  };\n  let rotatedPoint = quaternionMultiply([quaternion, temporaryQuaternion, conjugateQuaternion(quaternion)]);\n  return {\n    x: rotatedPoint.x,\n    y: rotatedPoint.y,\n    z: rotatedPoint.z,\n    w: rotatedPoint.w\n  };\n}\n\nfunction makeRotationMatrixFromQuaternion(quaternion) {\n  let num = quaternion.x * 2;\n  let num2 = quaternion.y * 2;\n  let num3 = quaternion.z * 2;\n  let num4 = quaternion.x * num;\n  let num5 = quaternion.y * num2;\n  let num6 = quaternion.z * num3;\n  let num7 = quaternion.x * num2;\n  let num8 = quaternion.x * num3;\n  let num9 = quaternion.y * num3;\n  let num10 = quaternion.w * num;\n  let num11 = quaternion.w * num2;\n  let num12 = quaternion.w * num3;\n  return [1 - (num5 + num6), num7 - num12, num8 + num11, 0, num7 + num12, 1 - (num4 + num6), num9 - num10, 0, num8 - num11, num9 + num10, 1 - (num4 + num5), 0, 0, 0, 0, 1];\n}\n\nfunction degToRad(deg) {\n  return deg * Math.PI / 180;\n}\n\n//# sourceURL=webpack:///./src/js/source/core/logic/quaternion.js?");

/***/ }),

/***/ "./src/js/source/core/logic/reflections.js":
/*!*************************************************!*\
  !*** ./src/js/source/core/logic/reflections.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setReflections = setReflections;\n\nfunction setReflections(pluridSheet, sheetHeight, ground, top = 0) {\n  const reflectGround = ground + 1 - sheetHeight - top; // console.log('ground', ground);\n  // console.log('sheetHeight', sheetHeight);\n  // console.log('top', top);\n  // const reflectGround = ground - sheetHeight + 1;\n\n  pluridSheet.style.webkitBoxReflect = `below ${reflectGround}px linear-gradient(to top, rgba(0,0,0,0.2) 0%, rgba(30,30,30,0.1) 20%, rgba(60,60,60,0) 40%)`;\n}\n\n//# sourceURL=webpack:///./src/js/source/core/logic/reflections.js?");

/***/ }),

/***/ "./src/js/source/core/logic/shadows.js":
/*!*********************************************!*\
  !*** ./src/js/source/core/logic/shadows.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setShadows = setShadows;\n\nfunction setShadows(pluridRoot, pluridSheet, sheetHeight, ground) {\n  let pluridShadow = document.createElement('plurid-shadow');\n  pluridRoot.appendChild(pluridShadow);\n  pluridShadow.sheet = pluridSheet.id; // console.log('sheetHeight', sheetHeight);\n\n  let computedShadowHeight = sheetHeight * 0.3 < 500 ? sheetHeight * 0.3 : 500; // let computedShadowHeight = 500;\n  // console.log('computedShadowHeight', computedShadowHeight);\n\n  pluridShadow.style.height = computedShadowHeight + \"px\"; // console.log('ground', ground);\n\n  let groundPosition = ground - computedShadowHeight;\n  pluridShadow.style.transform = `translateX(0px) translateY(${groundPosition}px) translateZ(0px) rotateX(90deg) rotateY(0deg) rotateZ(0deg) scale(1) skew(-10deg)`;\n}\n\n//# sourceURL=webpack:///./src/js/source/core/logic/shadows.js?");

/***/ }),

/***/ "./src/js/source/core/logic/shortcuts.js":
/*!***********************************************!*\
  !*** ./src/js/source/core/logic/shortcuts.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initShortcuts = initShortcuts;\n\nvar _controlsCore = __webpack_require__(/*! ../../elements/controls/controls-core */ \"./src/js/source/elements/controls/controls-core.js\");\n\nvar _getPlurid = __webpack_require__(/*! ./get-plurid.js */ \"./src/js/source/core/logic/get-plurid.js\");\n\nvar _transforms = __webpack_require__(/*! ./transforms.js */ \"./src/js/source/core/logic/transforms.js\");\n\nfunction initShortcuts() {\n  document.addEventListener(\"keydown\", event => {\n    shortcuts(event);\n  });\n}\n\nfunction shortcuts(event) {\n  // let activePluridID = getPlurid.sheet\n  // let activePluridElement = document.getElementById(activePluridID);\n  let activePluridElement = (0, _getPlurid.getPlurid)().sheet;\n  let activePlurid = document.getElementById(pluridScene.meta.activePlurid);\n  let ultimateKey = event.which; // ROTATE\n  // Shift + arrow-left\n\n  if (event.shiftKey && ultimateKey == 37) {\n    // console.log(\"Rotate Left\");\n    event.preventDefault();\n    let direction = 'left';\n    (0, _transforms.rotatePlurid)(event, activePlurid, direction);\n  } // Shift + arrow-right\n\n\n  if (event.shiftKey && ultimateKey == 39) {\n    // console.log(\"Rotate Right\");\n    event.preventDefault();\n    let direction = 'right';\n    (0, _transforms.rotatePlurid)(event, activePlurid, direction);\n  } // Shift + arrow-up\n\n\n  if (event.shiftKey && ultimateKey == 38) {\n    // console.log(\"Rotate Up\");\n    event.preventDefault();\n    let direction = 'up';\n    (0, _transforms.rotatePlurid)(event, activePlurid, direction);\n  } // Shift + arrow-down\n\n\n  if (event.shiftKey && ultimateKey == 40) {\n    // console.log(\"Rotate Down\");\n    event.preventDefault();\n    let direction = 'down';\n    (0, _transforms.rotatePlurid)(event, activePlurid, direction);\n  } // TRANSLATE\n  // Alt/Opt + arrow-left\n\n\n  if (event.altKey && ultimateKey == 37) {\n    // console.log(\"Translate Left\");\n    event.preventDefault();\n    let direction = 'left';\n    (0, _transforms.translatePlurid)(event, activePlurid, direction);\n  } // Alt/Opt + arrow-right\n\n\n  if (event.altKey && ultimateKey == 39) {\n    // console.log(\"Translate Right\");\n    event.preventDefault();\n    let direction = 'right';\n    (0, _transforms.translatePlurid)(event, activePlurid, direction);\n  } // Alt/Opt + arrow-up\n\n\n  if (event.altKey && ultimateKey == 38) {\n    // console.log(\"Translate Up\");\n    event.preventDefault();\n    let direction = 'up';\n    (0, _transforms.translatePlurid)(event, activePlurid, direction);\n  } // Alt/Opt + arrow-down\n\n\n  if (event.altKey && ultimateKey == 40) {\n    // console.log(\"Translate Down\");\n    event.preventDefault();\n    let direction = 'down';\n    (0, _transforms.translatePlurid)(event, activePlurid, direction);\n  } // SCALE\n  // Cltr/Cmd + arrow-up\n\n\n  if ((event.metaKey || event.ctrlKey) && ultimateKey == 38) {\n    // console.log(\"Scale Up\");\n    event.preventDefault();\n    let direction = 'up';\n    (0, _transforms.scalePlurid)(event, activePlurid, direction);\n  } // Cltr/Cmd + arrow-down\n\n\n  if ((event.metaKey || event.ctrlKey) && ultimateKey == 40) {\n    // console.log(\"Scale Down\");\n    event.preventDefault();\n    let direction = 'down';\n    (0, _transforms.scalePlurid)(event, activePlurid, direction);\n  } // VIEW\n  // alt/opt + 1\n\n\n  if (event.altKey && ultimateKey == 49) {\n    console.log(\"transform to normal view front plane\");\n  } // alt/opt + 2\n\n\n  if (event.altKey && ultimateKey == 50) {\n    console.log(\"transform to normal view right plane\");\n  } // alt/opt + 3\n\n\n  if (event.altKey && ultimateKey == 51) {\n    console.log(\"transform to normal view back plane\");\n  } // alt/opt + 4\n\n\n  if (event.altKey && ultimateKey == 52) {\n    console.log(\"transform to normal view left plane\");\n  } // THE REST OF THE SHORTCUTS\n  // alt/opt + p\n\n\n  if (event.altKey && ultimateKey == 80) {\n    console.log(\"bring the parent of the current plurid to normal view\");\n  } // alt/opt + m\n\n\n  if (event.altKey && ultimateKey == 77) {\n    console.log(\"minimize current plurid\");\n  } // alt/opt + h\n\n\n  if (event.altKey && ultimateKey == 72) {\n    console.log(\"reduce height of current plurid\");\n  } // alt/opt + r\n\n\n  if (event.altKey && ultimateKey == 82) {\n    console.log(\"reload current plurid\");\n  } // alt/opt + e\n\n\n  if (event.altKey && ultimateKey == 69 && !event.shiftKey) {\n    console.log(\"extend positive the <plurid-bridge> of the current plurid\");\n  } // shift + e\n\n\n  if (event.shiftKey && ultimateKey == 69 && !event.altKey) {\n    console.log(\"extend negative the <plurid-bridge> of the current plurid\");\n  } // alt/opt + x\n\n\n  if (event.altKey && ultimateKey == 88) {\n    if (activePluridElement.parentElement.nodeName == \"PLURID-ROOT\") {\n      activePluridElement.parentElement.style.display = \"none\";\n    }\n\n    if (activePluridElement.parentElement.nodeName == \"PLURID-SCION\") {\n      activePluridElement.parentElement.parentElement.style.display = \"none\";\n    } // console.log(activePluridElement.parentElement.parentElement.nodeName);\n    // console.log(`close current plurid with ID: ${activePluridID}`);\n\n  } // alt/opt + i\n\n\n  if (event.altKey && ultimateKey == 73) {\n    console.log(\"isolate current plurid\");\n  } // alt/opt + a\n\n\n  if (event.altKey && ultimateKey == 65) {\n    console.log(\"back to the previous web page within the same plurid\");\n  } // alt/opt + z\n\n\n  if (event.altKey && ultimateKey == 90) {\n    console.log(\"forward to the next web page within the same plurid\");\n  } // alt/opt + s\n\n\n  if (event.altKey && ultimateKey == 83) {\n    console.log(\"activate the plurid URL input\");\n  } // alt/opt + t\n\n\n  if (event.altKey && ultimateKey == 84) {\n    console.log(\"extract the current plurid to a separate <plurid-root>\");\n  } // alt/opt + n\n\n\n  if (event.altKey && ultimateKey == 78) {\n    console.log(\"open current plurid in new tab\");\n  } // alt/opt + f\n\n\n  if (event.altKey && ultimateKey == 70) {\n    console.log(\"flip the <plurid-branch> to the other side of the <plurid-insertion>\");\n  } // alt/opt + v\n\n\n  if (event.altKey && ultimateKey == 86) {\n    console.log(\"flip the content to the other side\");\n  } // console.log(ultimateKey);\n\n}\n\n//# sourceURL=webpack:///./src/js/source/core/logic/shortcuts.js?");

/***/ }),

/***/ "./src/js/source/core/logic/style-plurid.js":
/*!**************************************************!*\
  !*** ./src/js/source/core/logic/style-plurid.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.stylePlurid = stylePlurid;\nlet styleString = \"rgba(194, 194, 194, 0.7) 0px 0px 6px 3px\";\n\nfunction stylePlurid(plurid, stack) {\n  // console.log(plurid);\n  // console.log(stack);\n  function style(stackItem) {\n    if (stackItem.id === plurid.id) {\n      if (plurid.style.boxShadow === styleString) {\n        stackItem.style.boxShadow = \"\";\n        plurid = document.querySelector(\"plurid-roots\");\n      } else {\n        stackItem.style.boxShadow = styleString;\n      }\n    }\n\n    if (stackItem.id === \"plurid-roots\" || stackItem.id != plurid.id) {\n      stackItem.style.boxShadow = \"\";\n    }\n  }\n\n  stack.forEach(style);\n  return plurid;\n}\n\n//# sourceURL=webpack:///./src/js/source/core/logic/style-plurid.js?");

/***/ }),

/***/ "./src/js/source/core/logic/transforms-core.js":
/*!*****************************************************!*\
  !*** ./src/js/source/core/logic/transforms-core.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTransformRotate = getTransformRotate;\nexports.getTransformTranslate = getTransformTranslate;\nexports.getTransformScale = getTransformScale;\nexports.getMatrixValues = getMatrixValues;\nexports.getRotationMatrix = getRotationMatrix;\nexports.getTranslationMatrix = getTranslationMatrix;\nexports.getScaleMatrix = getScaleMatrix;\nexports.setTransform = setTransform;\nexports.setCursor = setCursor;\nexports.getyPos = getyPos;\n\nvar _matrix = __webpack_require__(/*! ./matrix.js */ \"./src/js/source/core/logic/matrix.js\");\n\nvar matrix = _interopRequireWildcard(_matrix);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction getTransformRotate(element) {\n  var values = getRotationMatrix(element); // console.log(\"values Matrix\", values);\n\n  var rotateX, rotateY;\n  var pi = Math.PI;\n\n  if (values.length == 6) {\n    var cosa = parseFloat(values[0]);\n    var sina = parseFloat(values[1]); // console.log(\"cos A\", cosa);\n    // console.log(\"sin A\", sina);\n\n    if (cosa == 1 && sina == 0) {\n      rotateX = Math.asin(sina);\n      rotateY = Math.acos(cosa);\n    }\n  }\n\n  if (values.length == 16) {\n    var cosaX1 = parseFloat(values[5]);\n    var sinaX2 = parseFloat(values[6]);\n    var sinaX3 = parseFloat(values[9]);\n    var cosaX4 = parseFloat(values[10]); // console.log(\"----------------------\")\n    // console.log(\"cos A X 1\", cosaX1);\n    // console.log(\"cos A X 1\", cosaX1 > 0 ? \"POSITIVE\" : \"NEGATIVE\");\n    // console.log(\"arccos A X 1\", Math.acos(cosaX1)*180/pi);\n    // console.log(\"sin A X 2\", sinaX2);\n    // console.log(\"sin A X 2\", sinaX2 > 0 ? \"POSITIVE\" : \"NEGATIVE\");\n    // console.log(\"arcsin A X 2\", Math.asin(sinaX2)*180/pi);\n    // console.log(\"sin A X 3\", sinaX3);\n    // console.log(\"sin A X 3\", sinaX3 > 0 ? \"POSITIVE\" : \"NEGATIVE\");\n    // console.log(\"arcsin A X 3\", Math.asin(sinaX3)*180/pi);\n    // console.log(\"cos A X 4\", cosaX4);\n    // console.log(\"cos A X 4\", cosaX4 > 0 ? \"POSITIVE\" : \"NEGATIVE\");\n    // console.log(\"arccos A X 4\", Math.acos(cosaX4)*180/pi);\n    // rotateX = 0;\n    // 0-180\n\n    if (sinaX3 <= 0) {\n      rotateX = Math.acos(cosaX1); // console.log(\"ONE X\");\n      // console.log(\"++++++\");\n    } // // 181-360\n\n\n    if (sinaX3 > 0) {\n      rotateX = 2 * pi - Math.acos(cosaX1); // console.log(\"TWO X\");\n      // console.log(\"++++++\");\n    } // console.log(\"rotateX in Radians\", rotateX);\n    // console.log(\"rotateX in Degrees\", rotateX*180/pi);\n    // console.log(\"-------------\")\n    // var cosaY = parseFloat(values[0]);\n    // var sinaY = parseFloat(values[2]);\n    // console.log(\"cos A Y\", cosaY);\n    // console.log(\"sin A Y\", sinaY);\n\n\n    var cosaY1 = parseFloat(values[0]);\n    var sinaY2 = parseFloat(values[2]);\n    var sinaY3 = parseFloat(values[8]);\n    var cosaY4 = parseFloat(values[10]); // console.log(\"cos A Y 1\", cosaY1);\n    // console.log(\"cos A Y 1\", cosaY1 > 0 ? \"POSITIVE\" : \"NEGATIVE\");\n    // console.log(\"arccos A Y 1\", Math.acos(cosaY1));\n    // console.log(\"arccos A Y 1 in degs\", Math.acos(cosaY1)*180/pi);\n    // console.log(\"sin A Y 2\", sinaY2);\n    // console.log(\"sin A Y 2\", sinaY2 > 0 ? \"POSITIVE\" : \"NEGATIVE\");\n    // console.log(\"arcsin A Y 2\", Math.asin(sinaY2)*180/pi);\n    // console.log(\"sin A Y 3\", sinaY3);\n    // console.log(\"sin A Y 3\", sinaY3 > 0 ? \"POSITIVE\" : \"NEGATIVE\");\n    // console.log(\"arcsin A Y 3\", Math.asin(sinaY3)*180/pi);\n    // console.log(\"cos A Y 4\", cosaY4);\n    // console.log(\"cos A Y 4\", cosaY4 > 0 ? \"POSITIVE\" : \"NEGATIVE\");\n    // console.log(\"arccos A Y 4\", Math.acos(cosaY4)*180/pi);\n    // rotateY = 0\n\n    if (sinaY2 <= 0) {\n      rotateY = Math.acos(cosaY1); // console.log(\"ONE Y\");\n      // console.log(\"++++++\");\n    }\n\n    if (sinaY2 > 0) {\n      rotateY = 2 * pi - Math.acos(cosaY1); // console.log(\"TWO Y\");\n      // console.log(\"++++++\");\n    }\n  }\n\n  return {\n    rotateX: rotateX,\n    rotateY: rotateY\n  };\n}\n\nfunction getTransformTranslate(element) {\n  var values = getTranslationMatrix(element);\n  var translateX, translateY;\n  translateX = parseFloat(values[0]);\n  translateY = parseFloat(values[1]);\n  return {\n    translateX: translateX,\n    translateY: translateY\n  };\n}\n\nfunction getTransformScale(element) {\n  var scale = getScaleMatrix(element); // console.log(scale);\n\n  return {\n    scale: scale\n  };\n}\n\nfunction getMatrixValues(element) {\n  var transformValues = window.getComputedStyle(element, null).getPropertyValue(\"transform\"); // console.log(\"transformValues Matrix\", transformValues);\n\n  var matrixValues = transformValues.split('(')[1].split(')')[0].split(','); // console.log(\"matrixValues Matrix\", matrixValues);\n\n  for (var i = 0; i < matrixValues.length; i++) {\n    matrixValues[i] = parseFloat(matrixValues[i]);\n  }\n\n  return matrixValues;\n}\n\nfunction getRotationMatrix(element) {\n  var valuesMatrix = getMatrixValues(element); // console.log(\"getMatrixValues Matrix\", valuesMatrix);\n\n  var scale = getScaleMatrix(element); // console.log(\"getScaleMatrix Matrix\", scale);\n\n  if (valuesMatrix.length == 16) {\n    for (var i = 0; i < 11; i++) {\n      valuesMatrix[i] /= scale;\n    }\n  } else if (valuesMatrix.length == 6) {\n    for (var i = 0; i < 4; i++) {\n      valuesMatrix[i] /= scale;\n    }\n  }\n\n  var rotationMatrix = valuesMatrix; // console.log(\"rotationMatrix Matrix\", rotationMatrix);\n\n  return rotationMatrix;\n}\n\nfunction getTranslationMatrix(element) {\n  var valuesMatrix = getMatrixValues(element);\n\n  if (valuesMatrix.length == 16) {\n    var translationMatrix = getMatrixValues(element).slice(12, 15);\n  } else if (valuesMatrix.length == 6) {\n    var translationMatrix = getMatrixValues(element).slice(4);\n  }\n\n  return translationMatrix;\n}\n\nfunction getScaleMatrix(element) {\n  var valuesMatrix = getMatrixValues(element);\n  var temp = 0;\n\n  if (valuesMatrix.length == 16) {\n    var scaleMatrix = getMatrixValues(element).slice(0, 4);\n    var scale = 0;\n\n    for (var i = 0; i < scaleMatrix.length; i++) {\n      scale += parseFloat(scaleMatrix[i]) * parseFloat(scaleMatrix[i]);\n    }\n\n    scale = parseFloat(Math.sqrt(scale).toPrecision(4));\n  } else if (valuesMatrix.length == 6) {\n    temp = valuesMatrix[0] * valuesMatrix[0] + valuesMatrix[1] * valuesMatrix[1];\n    var scale = parseFloat(Math.sqrt(temp).toPrecision(4));\n  }\n\n  return scale;\n}\n\nfunction setTransform(element, rotateMatrix, translateMatrix, scaleMatrix, yPos = 0) {\n  let transformMatrix = matrix.multiplyArrayOfMatrices([translateMatrix, rotateMatrix, scaleMatrix]); // console.log(\"Transform Matrix\", transformMatrix);\n  // window.addEventListener('wheel', event => {\n  // console.log(event);\n  // console.log(event.clientX, event.clientY);\n  // var transformOriginRule = `${event.x}px ${yPos}px`;\n  // element.style.transformOrigin = transformOriginRule;\n  // })\n  // console.log(element);\n  // Set the transform\n\n  let transformOriginRule = \"50% \" + yPos + \"px\";\n  element.style.transformOrigin = transformOriginRule; // Returns a a matrix3d() CSS string\n\n  let matrix3dRule = matrix.matrixArrayToCssMatrix(transformMatrix); // console.log(\"CSS Rule\", matrix3dRule);\n\n  element.style.transform = matrix3dRule;\n}\n\nfunction setCursor(mode) {\n  switch (mode) {\n    case \"rotate\":\n      document.body.style.cursor = \"ew-resize\";\n      break;\n\n    case \"translate\":\n      document.body.style.cursor = \"move\";\n      break;\n\n    case \"scale\":\n      document.body.style.cursor = \"nesw-resize\";\n      break;\n\n    default:\n      document.body.style.cursor = \"default\";\n  }\n}\n\nfunction getyPos(event = null, plurid) {\n  var yCenter = window.innerHeight / 2;\n  var translateY = getTransformTranslate(plurid).translateY;\n  var yPos = translateY * -1 + yCenter;\n  return yPos;\n}\n\n//# sourceURL=webpack:///./src/js/source/core/logic/transforms-core.js?");

/***/ }),

/***/ "./src/js/source/core/logic/transforms.js":
/*!************************************************!*\
  !*** ./src/js/source/core/logic/transforms.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rotation = rotation;\nexports.rotatePlurid = rotatePlurid;\nexports.translatePlurid = translatePlurid;\nexports.scalePlurid = scalePlurid;\n\nvar _getPlurid = __webpack_require__(/*! ./get-plurid.js */ \"./src/js/source/core/logic/get-plurid.js\");\n\nvar _directions = __webpack_require__(/*! ./directions.js */ \"./src/js/source/core/logic/directions.js\");\n\nvar _transformsCore = __webpack_require__(/*! ./transforms-core.js */ \"./src/js/source/core/logic/transforms-core.js\");\n\nvar transcore = _interopRequireWildcard(_transformsCore);\n\nvar _matrix = __webpack_require__(/*! ./matrix.js */ \"./src/js/source/core/logic/matrix.js\");\n\nvar matrix = _interopRequireWildcard(_matrix);\n\nvar _viewcubeCore = __webpack_require__(/*! ../../elements/viewcube/viewcube-core */ \"./src/js/source/elements/viewcube/viewcube-core.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar rotateX = 0.5;\nvar rotateY = 0.5;\n\nfunction rotation(transform) {\n  let event = transform.event;\n  let plurid = transform.plurid;\n  let direction = transform.direction ? transform.direction : (0, _directions.getDirection)(event); // let rotX = transform.rotateX ? transform.rotateX : rotateX;\n  // let rotY = transform.rotateY ? transform.rotateY : rotateY;\n  // let rotateX = transform.rotateX ? transform.rotateX : getTransformRotate(plurid).rotateX;\n  // let rotateY = transform.rotateY ? transform.rotateY : getTransformRotate(plurid).rotateY;\n  // console.log(rotateX);\n  // console.log(rotateY);\n  // rotatePlurid(event, plurid, direction, rotX, rotY);\n\n  rotatePlurid(event, plurid, direction);\n\n  if (plurid.nodeName == 'PLURID-ROOTS') {\n    (0, _viewcubeCore.rotateViewcube)(event, plurid, rotateX, rotateY);\n  }\n}\n\nfunction rotatePlurid(event, plurid, direction = null) {\n  // console.log(\"ROTATE\");\n  // console.log(\"Event\", event);\n  // console.log(\"----------------------------------\")\n  // var rotateX = -1 * transcore.getTransformRotate(plurid).rotateX * 180 / Math.PI;\n  // var rotateY = -1 * transcore.getTransformRotate(plurid).rotateY * 180 / Math.PI;\n  var translateX = transcore.getTransformTranslate(plurid).translateX;\n  var translateY = transcore.getTransformTranslate(plurid).translateY;\n  var translateZ = 0;\n  var scale = transcore.getTransformScale(plurid).scale;\n  let valRotationMatrix = matrix.rotateMatrix(rotateX, rotateY);\n  var valtranslationMatrix = matrix.translateMatrix(translateX, translateY, 0);\n  var valscaleMatrix = matrix.scaleMatrix(scale);\n  var yPos = transcore.getyPos(event, plurid);\n\n  if (scale < 0.5) {\n    var angleIncrement = 4.5;\n  } else {\n    var angleIncrement = 4.5;\n  } // console.log(\"----------------------------------\")\n  // console.log(\"Rotate X\", rotateX);\n  // console.log(\"Rotate Y\",rotateY);\n  // console.log(\"Translate X\", translateX);\n  // console.log(\"Translate Y\", translateY);\n  // console.log(\"Scale\", scale);\n\n\n  plurid.style.transition = \"0ms ease-in-out\";\n\n  if (direction === \"left\") {\n    rotateY -= angleIncrement;\n    valRotationMatrix = matrix.rotateMatrix(rotateX, rotateY);\n    transcore.setTransform(plurid, valRotationMatrix, valtranslationMatrix, valscaleMatrix, yPos);\n  }\n\n  if (direction === \"right\") {\n    rotateY += angleIncrement;\n    valRotationMatrix = matrix.rotateMatrix(rotateX, rotateY);\n    transcore.setTransform(plurid, valRotationMatrix, valtranslationMatrix, valscaleMatrix, yPos);\n  }\n\n  if (direction === \"up\") {\n    rotateX += angleIncrement;\n    valRotationMatrix = matrix.rotateMatrix(rotateX, rotateY);\n    transcore.setTransform(plurid, valRotationMatrix, valtranslationMatrix, valscaleMatrix, yPos);\n  }\n\n  if (direction === \"down\") {\n    rotateX -= angleIncrement;\n    valRotationMatrix = matrix.rotateMatrix(rotateX, rotateY);\n    transcore.setTransform(plurid, valRotationMatrix, valtranslationMatrix, valscaleMatrix, yPos);\n  }\n}\n\nfunction translatePlurid(event, plurid, direction = null) {\n  // console.log(\"TRANSLATE\");\n  // console.log(\"Event\", event);\n  // let plurid = getPlurid(event);\n  // console.log(\"Plurid\", plurid);\n  if (direction == null) {\n    direction = (0, _directions.getDirection)(event);\n  } // console.log(\"Direction\", direction);\n  // var rotateX = -1 * transcore.getTransformRotate(plurid).rotateX * 180 / Math.PI;\n  // var rotateY = -1 * transcore.getTransformRotate(plurid).rotateY * 180 / Math.PI;\n\n\n  var translateX = transcore.getTransformTranslate(plurid).translateX;\n  var translateY = transcore.getTransformTranslate(plurid).translateY;\n  var translateZ = 0;\n  var scale = transcore.getTransformScale(plurid).scale;\n  let valRotationMatrix = matrix.rotateMatrix(rotateX, rotateY);\n  var valtranslationMatrix = matrix.translateMatrix(translateX, translateY, 0);\n  var valscaleMatrix = matrix.scaleMatrix(scale);\n  var yPos = transcore.getyPos(event, plurid);\n\n  if (scale < 0.5) {\n    var linearIncrement = 50;\n  } else {\n    var linearIncrement = 30;\n  } // console.log(\"----------------------------------\")\n  // console.log(\"Rotate X\", rotateX);\n  // console.log(\"Rotate Y\",rotateY);\n  // console.log(\"Translate X\", translateX);\n  // console.log(\"Translate Y\", translateY);\n  // console.log(\"Scale\", scale);\n  // console.log(\"getRotateXMatrix\", getRotateXMatrix);\n  // console.log(\"getRotateYMatrix\", getRotateYMatrix);\n  // console.log(\"getTranslateMatrix\", getTranslateMatrix);\n  // console.log(\"getScaleMatrix\", getScaleMatrix);\n\n\n  plurid.style.transition = \"20ms ease-in-out\";\n\n  if (direction === \"left\") {\n    translateX += linearIncrement;\n    var valtranslationMatrix = matrix.translateMatrix(translateX, translateY, translateZ);\n    transcore.setTransform(plurid, valRotationMatrix, valtranslationMatrix, valscaleMatrix, yPos);\n  }\n\n  if (direction === \"right\") {\n    translateX -= linearIncrement;\n    var valtranslationMatrix = matrix.translateMatrix(translateX, translateY, translateZ);\n    transcore.setTransform(plurid, valRotationMatrix, valtranslationMatrix, valscaleMatrix, yPos);\n  }\n\n  if (direction === \"up\") {\n    translateY += linearIncrement;\n    var valtranslationMatrix = matrix.translateMatrix(translateX, translateY, translateZ);\n    transcore.setTransform(plurid, valRotationMatrix, valtranslationMatrix, valscaleMatrix, yPos);\n  }\n\n  if (direction === \"down\") {\n    translateY -= linearIncrement;\n    var valtranslationMatrix = matrix.translateMatrix(translateX, translateY, translateZ);\n    transcore.setTransform(plurid, valRotationMatrix, valtranslationMatrix, valscaleMatrix, yPos);\n  }\n}\n\nfunction scalePlurid(event, plurid, direction = null) {\n  // console.log(\"SCALE\");\n  // console.log(\"Event\", event);\n  // let plurid = getPlurid(event);\n  // console.log(\"Plurid\", plurid);\n  if (direction == null) {\n    direction = (0, _directions.getDirection)(event);\n  } // console.log(\"Direction\", direction);\n  // var rotateX = -1 * transcore.getTransformRotate(plurid).rotateX * 180 / Math.PI;\n  // var rotateY = -1 * transcore.getTransformRotate(plurid).rotateY * 180 / Math.PI;\n\n\n  var translateX = transcore.getTransformTranslate(plurid).translateX;\n  var translateY = transcore.getTransformTranslate(plurid).translateY;\n  var translateZ = 0;\n  var scale = transcore.getTransformScale(plurid).scale;\n  let valRotationMatrix = matrix.rotateMatrix(rotateX, rotateY);\n  var valtranslationMatrix = matrix.translateMatrix(translateX, translateY, 0);\n  var valscaleMatrix = matrix.scaleMatrix(scale);\n  var yPos = transcore.getyPos(event, plurid);\n  var scaleIncrement = 0.05; // console.log(\"----------------------------------\")\n  // console.log(\"Rotate X\", rotateX);\n  // console.log(\"Rotate Y\",rotateY);\n  // console.log(\"Translate X\", translateX);\n  // console.log(\"Translate Y\", translateY);\n  // console.log(\"Scale\", scale);\n  // console.log(\"getRotateXMatrix\", getRotateXMatrix);\n  // console.log(\"getRotateYMatrix\", getRotateYMatrix);\n  // console.log(\"getTranslateMatrix\", getTranslateMatrix);\n  // console.log(\"getScaleMatrix\", getScaleMatrix);\n\n  plurid.style.transition = \"20ms ease-in-out\";\n\n  if (direction === \"up\" || direction === \"upright\" || direction === \"upleft\") {\n    scale += scaleIncrement;\n\n    if (scale > 4) {\n      scale = 4;\n    }\n\n    var valscaleMatrix = matrix.scaleMatrix(scale);\n    transcore.setTransform(plurid, valRotationMatrix, valtranslationMatrix, valscaleMatrix, yPos);\n  }\n\n  if (direction === \"down\" || direction === \"downleft\" || direction === \"downright\") {\n    scale -= scaleIncrement;\n\n    if (scale < 0.1) {\n      scale = 0.1;\n    }\n\n    var valscaleMatrix = matrix.scaleMatrix(scale);\n    transcore.setTransform(plurid, valRotationMatrix, valtranslationMatrix, valscaleMatrix, yPos);\n  }\n}\n\n//# sourceURL=webpack:///./src/js/source/core/logic/transforms.js?");

/***/ }),

/***/ "./src/js/source/core/state/plurid-scene.js":
/*!**************************************************!*\
  !*** ./src/js/source/core/state/plurid-scene.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nvar _sceneCore = __webpack_require__(/*! ./scene-core */ \"./src/js/source/core/state/scene-core.js\");\n\n// set pluridScene as global variable\n(function (global) {\n  global.pluridScene = {\n    meta: {\n      activePlurid: '',\n      activeSheet: '',\n      containers: 0,\n      ground: 0,\n      multiPageGap: 50,\n      pages: 0,\n      previousActiveSheet: '',\n      reflections: false,\n      rootPages: [],\n      rootSheets: [],\n      shadows: false,\n      theme: 'dusk',\n      themes: ['night', 'dusk', 'dawn', 'light'],\n      transformOrigin: {\n        maxPositiveX: 0,\n        maxNegativeX: 0,\n        maxPositiveY: 0,\n        maxNegativeY: 0,\n        maxPositiveZ: 0,\n        maxNegativeZ: 0,\n        transformOriginX: 0,\n        transformOriginY: 0,\n        transformOriginZ: 0\n      }\n    },\n    content: [],\n    getBranchById: _sceneCore.getBranchById,\n    getChildrenBySheetId: _sceneCore.getChildrenBySheetId,\n    setTheme: _sceneCore.setNewTheme\n  };\n}).call(undefined, global);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///./src/js/source/core/state/plurid-scene.js?");

/***/ }),

/***/ "./src/js/source/core/state/scene-core.js":
/*!************************************************!*\
  !*** ./src/js/source/core/state/scene-core.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBranchById = getBranchById;\nexports.getChildrenBySheetId = getChildrenBySheetId;\nexports.setNewTheme = setNewTheme;\n\nvar _theme = __webpack_require__(/*! ../themes/theme */ \"./src/js/source/core/themes/theme.js\");\n\n/**\n * Gets <plurid-branch> based on branch.id\n *\n * @param {string} branchId\n * @return {Object}\n */\nfunction getBranchById(branchId) {\n  for (let rootElement of pluridScene.content) {\n    for (let child of rootElement.children) {\n      if (child.branchId == branchId) {\n        return child;\n      } else if (child.children != []) {\n        let result = getChild(branchId, child.children);\n\n        if (result) {\n          return result;\n        }\n      }\n    }\n  }\n  /**\n   * Recursively gets <plurid-branch> within a children array\n   * if child.id and branchId match.\n   *\n   * @param {string} branchId\n   * @param {Array} children\n   * @return {Object}\n   */\n\n\n  function getChild(branchId, children) {\n    for (let child of children) {\n      if (child.branchId == branchId) {\n        return child;\n      } else if (child.children != []) {\n        let result = getChild(branchId, child.children);\n\n        if (result) {\n          return result;\n        }\n      }\n    }\n  }\n}\n/**\n * Gets children <plurid-branch> IDs based on sheet.id\n *\n * @param {string} sheetId\n * @return {Array}\n */\n\n\nfunction getChildrenBySheetId(sheetId) {\n  let childrenBranch = [];\n\n  for (let rootElement of pluridScene.content) {\n    if (rootElement.sheetId == sheetId) {\n      pushChildrenOfChildren(childrenBranch, rootElement.children);\n    } else {\n      checkChildren(sheetId, childrenBranch, rootElement.children);\n    }\n  }\n\n  function pushChildrenOfChildren(childrenBranch, children) {\n    for (let child of children) {\n      childrenBranch.push(child.branchId);\n      pushChildrenOfChildren(childrenBranch, child.children);\n    }\n  }\n\n  function checkChildren(sheetId, childrenBranch, children) {\n    for (let child of children) {\n      if (child.sheetId == sheetId) {\n        pushChildrenOfChildren(childrenBranch, child.children);\n      } else {\n        checkChildren(sheetId, childrenBranch, child.children);\n      }\n    }\n  }\n\n  return childrenBranch;\n}\n/**\n * Set theme\n *\n * @param {string} theme\n */\n\n\nfunction setNewTheme(theme) {\n  this.meta.theme = theme;\n  (0, _theme.setTheme)(theme);\n}\n\n//# sourceURL=webpack:///./src/js/source/core/state/scene-core.js?");

/***/ }),

/***/ "./src/js/source/core/themes/theme.js":
/*!********************************************!*\
  !*** ./src/js/source/core/themes/theme.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setTheme = setTheme;\n\n/**\n * Sets plurid-theme-dusk as default theme on <body>\n * if no theme class currently in use.\n */\n(function () {\n  const bodyClassList = document.body.classList;\n  let themeSet = false;\n\n  for (let bodyClass of bodyClassList) {\n    if (/plurid-theme/.test(bodyClass)) {\n      themeSet = true;\n    }\n  }\n\n  if (!themeSet) {\n    const defaultTheme = 'dusk';\n    setTheme(defaultTheme);\n  }\n})();\n\nfunction setTheme(theme) {\n  const bodyClassList = document.body.classList;\n  const possibleThemes = ['night', 'dusk', 'dawn', 'light'];\n  possibleThemes.map(possibleTheme => {\n    theme === possibleTheme ? bodyClassList.add(`plurid-theme-${theme}`) : possibleThemes.map(possibleTheme => {\n      theme !== possibleTheme ? bodyClassList.remove(`plurid-theme-${possibleTheme}`) : '';\n    });\n  });\n}\n\n//# sourceURL=webpack:///./src/js/source/core/themes/theme.js?");

/***/ }),

/***/ "./src/js/source/core/utils/complex.js":
/*!*********************************************!*\
  !*** ./src/js/source/core/utils/complex.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * Closure to set id variables to 0\n * and return counting function setting id to HTMLElement\n * and return id number\n *\n * @return {function}\n */\nlet setId = exports.setId = function () {\n  let id = {};\n  id.containerNumber = 0;\n  id.rootsNumber = 0;\n  id.rootNumber = 0;\n  id.optionsNumber = 0;\n  id.sheetNumber = 0;\n  id.linkNumber = 0;\n  id.anchorNumber = 0;\n  id.branchNumber = 0;\n  id.shadowNumber = 0;\n  id.viewcubeNumber = 0;\n  /**\n   * Counter, sets id to element, returns id number.\n   *\n   * @param {HTMLElement} element\n   * @param {string} type                 String type of the element, e.g. 'link'\n   * @return {number}\n   */\n\n  return function (element, type) {\n    const set = function (element, type, idNumber) {\n      idNumber += 1;\n      element.id = `plurid-${type}-${idNumber}`;\n      return idNumber;\n    };\n\n    switch (type) {\n      case 'container':\n        return id.containerNumber = set(element, type, id.containerNumber);\n\n      case 'roots':\n        return id.rootsNumber = set(element, type, id.rootsNumber);\n\n      case 'root':\n        return id.rootNumber = set(element, type, id.rootNumber);\n\n      case 'options':\n        return id.optionsNumber = set(element, type, id.optionsNumber);\n\n      case 'sheet':\n        return id.sheetNumber = set(element, type, id.sheetNumber);\n\n      case 'link':\n        return id.linkNumber = set(element, type, id.linkNumber);\n\n      case 'anchor':\n        return id.anchorNumber = set(element, type, id.anchorNumber);\n\n      case 'branch':\n        return id.branchNumber = set(element, type, id.branchNumber);\n\n      case 'shadow':\n        return id.shadowNumber = set(element, type, id.shadowNumber);\n\n      case 'viewcube':\n        return id.viewcubeNumber = set(element, type, id.viewcubeNumber);\n    }\n  };\n}();\n\n//# sourceURL=webpack:///./src/js/source/core/utils/complex.js?");

/***/ }),

/***/ "./src/js/source/core/utils/simple.js":
/*!********************************************!*\
  !*** ./src/js/source/core/utils/simple.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.capitalize = capitalize;\n\n/**\n * Gets a string and returns it with capitalized first letter.\n *\n * @param {string} string\n * @return {function}\n */\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n//# sourceURL=webpack:///./src/js/source/core/utils/simple.js?");

/***/ }),

/***/ "./src/js/source/dev.js":
/*!******************************!*\
  !*** ./src/js/source/dev.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _sheetCore = __webpack_require__(/*! ./elements/sheet/sheet-core */ \"./src/js/source/elements/sheet/sheet-core.js\");\n\nvar _shadows = __webpack_require__(/*! ./core/logic/shadows */ \"./src/js/source/core/logic/shadows.js\");\n\nvar _reflections = __webpack_require__(/*! ./core/logic/reflections */ \"./src/js/source/core/logic/reflections.js\");\n\n/**\n * Checks document if it contains the HTML tag <plurid-container>.\n *\n * @return {boolean}\n * */\nfunction checkForContainers() {\n  return !!document.getElementsByTagName('plurid-container')[0];\n}\n/**\n * Checks recursively if the parents of the given pluridElement\n * have the nodeName 'PLURID-PAGE'.\n *\n * @param {object} pluridElement            Given <plurid-page> element.\n * @return {boolean}                        True if pluridElement should be a <plurid-root>.\n */\n\n\nfunction checkPluridParent(pluridElement) {\n  if (pluridElement.nodeName != 'HTML') {\n    if (pluridElement.parentElement.nodeName == 'PLURID-PAGE') {\n      // console.log('is NOT a plurid root');\n      return false;\n    } else {\n      return checkPluridParent(pluridElement.parentElement);\n    }\n  } else {\n    // console.log('is a plurid-root');\n    return true;\n  }\n}\n/**\n * Given an adequately plurid-formatted HTML document,\n * generates the plurid structure.\n */\n\n\nfunction setContainer() {\n  if (!checkForContainers()) {\n    // console.log(checkForContainers());\n    const body = document.body; // console.log(body);\n    // console.log('-----');\n\n    let pluridPages = document.getElementsByTagName('plurid-page');\n    let pluridPagesRoots = [];\n    let pluridLinks = document.getElementsByTagName('plurid-link');\n\n    for (let pluridPage of pluridPages) {\n      // console.log(pluridPage.name);\n      // console.log(pluridPage.visible);\n      if (checkPluridParent(pluridPage)) {\n        pluridPagesRoots.push(pluridPage);\n      }\n    } // console.log(pluridPagesRoots);\n\n\n    let container = document.createElement(\"plurid-container\");\n    let pluridSpace = document.createElement(\"plurid-space\"); // let div = document.createElement('div');\n    // div.classList.add('testing');\n\n    let pluridRoots = document.createElement(\"plurid-roots\");\n    pluridSpace.appendChild(pluridRoots);\n    container.appendChild(pluridSpace); // div.appendChild(pluridRoots);\n    // container.appendChild(div);\n\n    let scripts = document.getElementsByTagName('script'); // body.insertBefore(container, scripts[0]);\n    // cypress error\n\n    body.appendChild(container);\n\n    for (let pluridPage of pluridPagesRoots) {\n      let pluridRoot = document.createElement(\"plurid-root\");\n      let html = pluridPage.innerHTML;\n      let pluridSheet = document.createElement('plurid-sheet');\n      let pluridContent = document.createElement('plurid-content');\n      pluridSheet.appendChild(pluridContent);\n\n      if (pluridPage.visible) {\n        pluridSheet.visible = pluridPage.visible;\n      }\n\n      pluridContent.innerHTML = html;\n      pluridRoot.appendChild(pluridSheet);\n      pluridRoots.appendChild(pluridRoot); // console.log('----------');\n\n      let sheetHeight = pluridSheet.offsetHeight;\n      let ground = pluridScene.meta.ground;\n\n      if (sheetHeight > ground) {\n        pluridScene.meta.ground = sheetHeight;\n        ground = pluridScene.meta.ground;\n      }\n\n      let shadows = pluridScene.meta.shadows;\n\n      if (shadows === true) {\n        (0, _shadows.setShadows)(pluridRoot, pluridSheet, sheetHeight, ground);\n      }\n\n      let reflections = pluridScene.meta.reflections;\n\n      if (reflections === true) {\n        (0, _reflections.setReflections)(pluridSheet, sheetHeight, ground);\n      }\n    }\n\n    for (let i = pluridPages.length - 1; i >= 0; i--) {\n      // console.log(pluridPages[i]);\n      pluridPages[i].parentNode.removeChild(pluridPages[i]);\n    } // setLink();\n    // console.log(container);\n\n  } else {\n    let containers = document.getElementsByTagName('plurid-container');\n  }\n}\n\nsetContainer();\n\nfunction setTransformOriginCoordinates() {\n  let elementPositiveX = 200;\n  let elementNegativeX = -210;\n  let elementPositiveY = 231;\n  let elementNegativeY = -211;\n  let elementPositiveZ = 131;\n  let elementNegativeZ = -1231;\n  let transformOrigin = pluridScene.meta.transformOrigin;\n\n  if (elementPositiveX > transformOrigin.maxPositiveX) {\n    transformOrigin.maxPositiveX = elementPositiveX;\n  }\n\n  if (elementNegativeX < transformOrigin.maxNegativeX) {\n    transformOrigin.maxNegativeX = elementNegativeX;\n  }\n\n  if (elementPositiveY > transformOrigin.maxPositiveY) {\n    transformOrigin.maxPositiveY = elementPositiveY;\n  }\n\n  if (elementNegativeY < transformOrigin.maxNegativeY) {\n    transformOrigin.maxNegativeY = elementNegativeY;\n  }\n\n  if (elementPositiveZ > transformOrigin.maxPositiveZ) {\n    transformOrigin.maxPositiveZ = elementPositiveZ;\n  }\n\n  if (elementNegativeZ < transformOrigin.maxNegativeZ) {\n    transformOrigin.maxNegativeZ = elementNegativeZ;\n  }\n}\n\nsetTransformOriginCoordinates();\n\nfunction calculateTransformOriginCenters() {\n  let transformOrigin = pluridScene.meta.transformOrigin;\n  let positiveX = transformOrigin.maxPositiveX;\n  let negativeX = transformOrigin.maxNegativeX;\n  let positiveY = transformOrigin.maxPositiveY;\n  let negativeY = transformOrigin.maxNegativeY;\n  let positiveZ = transformOrigin.maxPositiveZ;\n  let negativeZ = transformOrigin.maxNegativeZ;\n  transformOrigin.transformOriginX = (positiveX + negativeX) / 2;\n  transformOrigin.transformOriginY = (positiveY + negativeY) / 2;\n  transformOrigin.transformOriginZ = (positiveZ + negativeZ) / 2;\n}\n\ncalculateTransformOriginCenters();\n\n//# sourceURL=webpack:///./src/js/source/dev.js?");

/***/ }),

/***/ "./src/js/source/elements/branch/branch-define.js":
/*!********************************************************!*\
  !*** ./src/js/source/elements/branch/branch-define.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nclass PluridBranch extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  get link() {\n    return this.getAttribute('link');\n  }\n\n  set link(newLink) {\n    this.setAttribute('link', newLink);\n  }\n\n}\n\ncustomElements.define('plurid-branch', PluridBranch);\n\nclass PluridBridge extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-bridge', PluridBridge);\n\nclass PluridScion extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-scion', PluridScion);\n\n//# sourceURL=webpack:///./src/js/source/elements/branch/branch-define.js?");

/***/ }),

/***/ "./src/js/source/elements/container/container-core.js":
/*!************************************************************!*\
  !*** ./src/js/source/elements/container/container-core.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transform = transform;\n\nvar _getPlurid = __webpack_require__(/*! ../../core/logic/get-plurid */ \"./src/js/source/core/logic/get-plurid.js\");\n\nvar _stylePlurid = __webpack_require__(/*! ../../core/logic/style-plurid */ \"./src/js/source/core/logic/style-plurid.js\");\n\nvar _transforms = __webpack_require__(/*! ../../core/logic/transforms */ \"./src/js/source/core/logic/transforms.js\");\n\nvar _sheetCore = __webpack_require__(/*! ../sheet/sheet-core */ \"./src/js/source/elements/sheet/sheet-core.js\");\n\nvar _viewcubeCore = __webpack_require__(/*! ../viewcube/viewcube-core */ \"./src/js/source/elements/viewcube/viewcube-core.js\");\n\n// transform receives the selected plurid\nfunction transform(container) {\n  // let pluridStack = new Set();\n  let plurid = container.getElementsByTagName('plurid-roots')[0];\n  let transform = {\n    plurid: plurid,\n    container: this\n  };\n  let direction = \"\";\n  let oldX = 0;\n  let oldY = 0;\n\n  function getDirection(event) {\n    return function (event) {\n      if (oldX < event.clientX) {\n        direction = \"right\";\n      } else if (oldX > event.clientX) {\n        direction = \"left\";\n      } // issues with transforms\n      // if (oldY < event.clientY) {\n      //     direction = \"down\";\n      // } else if (oldY > event.clientY) {\n      //     direction = \"up\";\n      // }\n\n\n      oldX = event.clientX;\n      oldY = event.clientY;\n      return direction;\n    }(event);\n  }\n\n  function rotatePluridClickThree(event) {\n    if (event.shiftKey) {\n      event.preventDefault();\n      let direction = getDirection(event);\n      (0, _transforms.rotatePlurid)(event, plurid, direction);\n      (0, _viewcubeCore.rotateViewcube)(event, plurid);\n    }\n  }\n\n  function translatePluridClickThree(event) {\n    if (event.altKey) {\n      event.preventDefault();\n      let direction = getDirection(event);\n      (0, _transforms.translatePlurid)(event, plurid, direction);\n    }\n  }\n\n  container.addEventListener('mousedown', event => {\n    if (event.which == 2 || event.button == 4) {\n      if (event.shiftKey) {\n        event.preventDefault();\n        container.addEventListener('mousemove', rotatePluridClickThree);\n      }\n\n      if (event.altKey) {\n        event.preventDefault();\n        container.addEventListener('mousemove', translatePluridClickThree);\n      }\n    }\n  });\n  container.addEventListener('mouseup', event => {\n    if (event.which == 2 || event.button == 4) {\n      container.removeEventListener('mousemove', rotatePluridClickThree);\n      container.removeEventListener('mousemove', translatePluridClickThree);\n    }\n  });\n  container.addEventListener(\"click\", event => {\n    // cross-browsers eventPath\n    let eventPath = event.path || event.composedPath && event.composedPath();\n    let currentPluridRoot = checkCurrentPluridRoot(eventPath);\n\n    if (eventPath[0].id == container.id || !currentPluridRoot) {\n      pluridScene.meta.activePlurid = 'plurid-roots-1';\n      pluridScene.meta.previousActiveSheet = pluridScene.meta.activeSheet;\n      pluridScene.meta.activeSheet = \"\";\n      (0, _sheetCore.removeActiveSheetShadow)(pluridScene.meta.previousActiveSheet, 'plurid-sheet-active');\n      (0, _sheetCore.removeActiveSheetShadow)(pluridScene.meta.previousActiveSheet, 'plurid-sheet-active-transform');\n    }\n\n    plurid = (0, _getPlurid.getPlurid)(event).root;\n  });\n  container.addEventListener('wheel', event => {\n    if (event.shiftKey) {\n      event.preventDefault();\n      transform.event = event;\n      (0, _transforms.rotation)(transform);\n    }\n\n    if (event.altKey) {\n      event.preventDefault();\n      (0, _transforms.translatePlurid)(event, plurid);\n    }\n\n    if (event.metaKey || event.ctrlKey) {\n      event.preventDefault();\n      (0, _transforms.scalePlurid)(event, plurid);\n    }\n  });\n}\n\nfunction checkCurrentPluridRoot(eventPath) {\n  // console.log('eventPath', eventPath);\n  let pluridSheet;\n  let pluridSheetId = '';\n  let pluridBranch;\n  let pluridBranchId = '';\n  let pluridBranchScene;\n\n  for (let eventPathElement of eventPath) {\n    if (eventPathElement.classList) {\n      if (eventPathElement.classList.contains('plurid-controls-select')) {\n        return true;\n      }\n    }\n\n    if (eventPathElement.nodeName == 'PLURID-SHEET') {\n      pluridSheet = eventPathElement;\n      pluridSheetId = eventPathElement.id;\n    }\n  }\n\n  for (let pluridSceneContent of pluridScene.content) {\n    // console.log(pluridSceneContent.id);\n    for (let child of pluridSceneContent.children) {\n      if (child.sheetId == pluridSheetId) {\n        return verifyChild(pluridSceneContent.id);\n      } else {\n        return recursiveCheck(child.children, pluridSceneContent.id);\n      }\n    }\n\n    if (pluridSceneContent.sheetId == pluridSheetId) {\n      return verifyChild(pluridSceneContent.id);\n    }\n  }\n\n  function verifyChild(verifyId) {\n    if (verifyId == pluridScene.meta.activePlurid) {\n      // console.log(verifyId);\n      // console.log(pluridScene.meta.activePlurid);\n      return true;\n    }\n  }\n\n  function recursiveCheck(children, verifyId) {\n    for (let child of children) {\n      if (child.sheetId == pluridSheetId) {\n        return verifyChild(verifyId);\n      } else {\n        return recursiveCheck(child.children, verifyId);\n      }\n    }\n  }\n\n  return false;\n}\n\n//# sourceURL=webpack:///./src/js/source/elements/container/container-core.js?");

/***/ }),

/***/ "./src/js/source/elements/container/container-define.js":
/*!**************************************************************!*\
  !*** ./src/js/source/elements/container/container-define.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _containerCore = __webpack_require__(/*! ./container-core */ \"./src/js/source/elements/container/container-core.js\");\n\nvar _optionsDefine = __webpack_require__(/*! ../options/options-define */ \"./src/js/source/elements/options/options-define.js\");\n\nvar _viewcubeDefine = __webpack_require__(/*! ../viewcube/viewcube-define */ \"./src/js/source/elements/viewcube/viewcube-define.js\");\n\nvar _shortcuts = __webpack_require__(/*! ../../core/logic/shortcuts */ \"./src/js/source/core/logic/shortcuts.js\");\n\nvar _complex = __webpack_require__(/*! ../../core/utils/complex */ \"./src/js/source/core/utils/complex.js\");\n\nclass PluridContainer extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    (0, _complex.setId)(this, 'container');\n    (0, _containerCore.transform)(this);\n    (0, _optionsDefine.initOptions)(this);\n    (0, _viewcubeDefine.initViewcube)(this);\n    (0, _shortcuts.initShortcuts)(this);\n  }\n\n}\n\ncustomElements.define('plurid-container', PluridContainer);\n\n//# sourceURL=webpack:///./src/js/source/elements/container/container-define.js?");

/***/ }),

/***/ "./src/js/source/elements/content/content-define.js":
/*!**********************************************************!*\
  !*** ./src/js/source/elements/content/content-define.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nclass PluridContent extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-content', PluridContent);\n\n//# sourceURL=webpack:///./src/js/source/elements/content/content-define.js?");

/***/ }),

/***/ "./src/js/source/elements/controls/controls-core.js":
/*!**********************************************************!*\
  !*** ./src/js/source/elements/controls/controls-core.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderControls = renderControls;\nexports.contentControls = contentControls;\nexports.setControls = setControls;\n\nvar _getPlurid = __webpack_require__(/*! ../../core/logic/get-plurid */ \"./src/js/source/core/logic/get-plurid.js\");\n\nvar _sheetCore = __webpack_require__(/*! ../sheet/sheet-core */ \"./src/js/source/elements/sheet/sheet-core.js\");\n\nfunction renderControls(element, id) {\n  let controls = document.createElement(\"plurid-controls\");\n  controls.id = `plurid-controls-${id}`;\n  element.appendChild(controls);\n}\n\nfunction contentControls() {\n  let content = `<div class=\"plurid-container-controls-content\">\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-select\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 715.45 731.22\"><defs></defs><title>Select</title><g><g id=\"Select\"><path class=\"plurid-button-icon-svg\" d=\"M354.25,731.22,340.3,363.64,0,316.45,715.45,0ZM181,291.07l207.7,28.81,8.06,212.42L609.53,101.52Z\"/></g></g></svg>\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-parent\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 878.5 880.44\"><defs></defs><title>Parent</title><g><g id=\"Parent\"><path class=\"plurid-button-icon-svg\" d=\"M521.28,838.25V386.06L334.86,406.83V250.66L878.5,193.4V787.71Zm44-501.32V787.64l269.31-38.1V242.22l-455.74,48v67.48Z\"/><polygon class=\"plurid-button-icon-svg\" points=\"0.44 0.68 0.44 696.24 405.19 879.75 405.19 182.91 0.44 0.68\"/><path class=\"plurid-button-icon-svg\" d=\"M405.63,880.44,0,696.52V0L405.63,182.63ZM.88,696,404.75,879.07V183.2L.88,1.36Z\"/></g></g></svg>\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-minimize\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 874.5 50\"><defs></defs><title>Minimize</title><g><g id=\"Minimize\"><line class=\"plurid-button-icon-svg\" y1=\"25\" x2=\"874.5\" y2=\"25\"/><rect class=\"plurid-button-icon-svg\" width=\"874.5\" height=\"50\"/></g></g></svg>\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-reduce-height\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 869.91 326\"><defs></defs><title>Reduce</title><g><g id=\"Reduce_Height\" data-name=\"Reduce Height\"><path class=\"plurid-button-icon-svg\" d=\"M869.91,326H228.37V43.58H0V0H869.91ZM272,282.42H826.33V43.58H272Z\"/></g></g></svg>\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-extend\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 866 375.89\"><defs></defs><title>Extend</title><g><g id=\"Extend\"><rect class=\"plurid-button-icon-svg\" x=\"31.02\" y=\"165.42\" width=\"796.17\" height=\"43.32\"/><polygon class=\"plurid-button-icon-svg\" points=\"192.59 375.81 0 187 192.67 0 222.84 31.08 62.03 187.16 222.91 344.88 192.59 375.81\"/><polygon class=\"plurid-button-icon-svg\" points=\"673.33 375.89 643.16 344.8 803.97 188.73 643.09 31.01 673.41 0.08 866 188.89 673.33 375.89\"/></g></g></svg>\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-reset-transforms\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 866 870.97\"><defs></defs><title>Reset Transforms</title><g id=\"Layer_2\" data-name=\"Layer 2\"><g id=\"Reset_Transforms\" data-name=\"Reset Transforms\"><rect class=\"plurid-button-icon-svg\" x=\"31.05\" y=\"418.97\" width=\"796.17\" height=\"43.32\" transform=\"translate(-185.88 432.5) rotate(-45)\"/><polygon class=\"plurid-button-icon-svg\" points=\"395.35 741.32 125.66 743.99 129.66 475.53 172.97 476.18 169.63 700.24 394.92 698.01 395.35 741.32\"/><polygon class=\"plurid-button-icon-svg\" points=\"735.34 401.44 692.02 400.79 695.37 176.73 470.08 178.96 469.65 135.65 739.35 132.97 735.34 401.44\"/><path class=\"plurid-button-icon-svg\" d=\"M865.5,870.47H.5V.5h865ZM44,827H822V44H44Z\"/></g></g></svg>\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-isolate\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 562 869.97\"><defs></defs><title>Isolate</title><g><g id=\"Isolate\"><path class=\"plurid-button-icon-svg\" d=\"M562,870H0V0H562ZM43.5,826.47h475V43.5H43.5Z\"/><rect class=\"plurid-button-icon-svg\" x=\"259.25\" y=\"166.16\" width=\"43.5\" height=\"537.64\"/></g></g></svg>\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-close\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 875.09 875.82\"><defs></defs><title>Close</title><g><g id=\"Close\"><rect class=\"plurid-button-icon-svg\" x=\"415.36\" y=\"-158.88\" width=\"44.45\" height=\"1193.58\" transform=\"translate(-181.48 437.37) rotate(-44.97)\"/><rect class=\"plurid-button-icon-svg\" x=\"-160.45\" y=\"415.69\" width=\"1187.63\" height=\"44.45\" transform=\"translate(-182.73 438.11) rotate(-45.32)\"/></g></g></svg>\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-reload\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 872.67 701\"><defs></defs><title>Reload</title><g><g id=\"Reload\"><polygon class=\"plurid-button-icon-svg\" points=\"794 701 0 701 0 0 775 0 775 50 50 50 50 651 744 651 744 239 794 239 794 701\"/><polygon class=\"plurid-button-icon-svg\" points=\"707.31 455.04 660.69 436.96 773.57 145.79 872.67 437.97 825.33 454.03 770.43 292.21 707.31 455.04\"/></g></g></svg>\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-back\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 874.8 394.66\"><defs></defs><title>Back</title><g><g id=\"Back\"><rect class=\"plurid-button-icon-svg\" x=\"46.8\" y=\"173.72\" width=\"828\" height=\"45.49\"/><polygon class=\"plurid-button-icon-svg\" points=\"202.25 394.66 0 196.38 202.33 0 234.01 32.64 65.15 196.54 234.1 362.18 202.25 394.66\"/></g></g></svg>\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-forward\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 871.97 361.91\"><defs></defs><title>Forward</title><g><g id=\"Next\"><rect class=\"plurid-button-icon-svg\" y=\"159.23\" width=\"842.93\" height=\"41.72\"/><polygon class=\"plurid-button-icon-svg\" points=\"686.43 361.91 657.38 331.98 812.23 181.68 657.3 29.79 686.5 0 871.97 181.83 686.43 361.91\"/></g></g></svg>\n                        </div>\n\n                        <div class=\"plurid-controls-url\">\n                            <div class=\"plurid-controls-url-container\">\n                                <div class=\"plurid-button plurid-button-icon plurid-button-icon-url plurid-controls-search\" tabindex=\"1\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 748.89 755.57\"><defs></defs><title>Search</title><g><g id=\"Search\"><line class=\"plurid-button-icon-svg\" x1=\"17.83\" y1=\"738.05\" x2=\"359.83\" y2=\"390.05\"/><rect class=\"plurid-button-icon-svg\" x=\"-55.13\" y=\"539.05\" width=\"487.92\" height=\"50\" transform=\"translate(-345.89 303.51) rotate(-45.51)\"/><path class=\"plurid-button-icon-svg\" d=\"M496.33,50A41.62,41.62,0,0,1,526,62.27L686.62,222.92a42,42,0,0,1,0,59.26L526,442.83a41.87,41.87,0,0,1-59.25,0L306.05,282.18a42,42,0,0,1,0-59.26L466.71,62.27A41.62,41.62,0,0,1,496.33,50m0-50a91.61,91.61,0,0,0-65,26.92L270.7,187.57a91.9,91.9,0,0,0,0,130L431.35,478.19a91.9,91.9,0,0,0,130,0L722,317.54a91.9,91.9,0,0,0,0-130L561.32,26.92A91.62,91.62,0,0,0,496.33,0Z\"/></g></g></svg>\n                                </div>\n                                <input class=\"plurid-controls-url-input\" type=\"text\" tabindex=\"1\" placeholder=\"Search\">\n                                <div class=\"plurid-button plurid-button-icon plurid-button-icon-url plurid-controls-cancel\" tabindex=\"1\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 875.09 875.82\"><defs></defs><title>Cancel</title><g><g id=\"Close\"><rect class=\"plurid-button-icon-svg\" x=\"415.36\" y=\"-158.88\" width=\"44.45\" height=\"1193.58\" transform=\"translate(-181.48 437.37) rotate(-44.97)\"/><rect class=\"plurid-button-icon-svg\" x=\"-160.45\" y=\"415.69\" width=\"1187.63\" height=\"44.45\" transform=\"translate(-182.73 438.11) rotate(-45.32)\"/></g></g></svg>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-extract\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 697.49 878\"><defs></defs><title>Extract</title><g><g id=\"Extract_Root\" data-name=\"Extract Root\"><path class=\"plurid-button-icon-svg\" d=\"M503,878H0V148.09H503ZM43.81,834.19H459.15V191.9H43.81Z\"/><polygon class=\"plurid-button-icon-svg\" points=\"697.49 782.49 487.19 782.49 487.19 738.68 653.68 738.68 653.68 43.81 223.41 43.81 223.26 161.26 179.45 161.2 179.66 0 697.49 0 697.49 782.49\"/></g></g></svg>\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-opacity\" tabindex=\"1\">\n                            100\n                        </div>\n\n                        <div class=\"plurid-button plurid-button-icon plurid-controls-more\" tabindex=\"1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 622.51 130.1\"><defs></defs><title>More</title><g id=\"Layer_2\" data-name=\"Layer 2\"><g id=\"More\"><rect class=\"plurid-button-icon-svg\" x=\"20.2\" y=\"20.2\" width=\"89.69\" height=\"89.69\"/><path class=\"plurid-button-icon-svg\" d=\"M130.1,130.1H0V0H130.1ZM40.4,89.69H89.69V40.4H40.4Z\"/><rect class=\"plurid-button-icon-svg\" x=\"266.21\" y=\"20.2\" width=\"89.69\" height=\"89.69\"/><path class=\"plurid-button-icon-svg\" d=\"M376.11,130.1H246V0h130.1Zm-89.7-40.41H335.7V40.4H286.41Z\"/><rect class=\"plurid-button-icon-svg\" x=\"512.62\" y=\"20.2\" width=\"89.69\" height=\"89.69\"/><path class=\"plurid-button-icon-svg\" d=\"M622.51,130.1H492.42V0H622.51ZM532.82,89.69h49.29V40.4H532.82Z\"/></g></g></svg>\n                        </div>\n\n                        <plurid-link page=\"./ads.html\">\n                            <div class=\"plurid-button plurid-button-icon\" tabindex=\"1\">\n                                Ads\n                            </div>\n                        </plurid-link>\n                    </div>\n\n                    <div class=\"plurid-controls-open-close\">\n                        <div class=\"plurid-button plurid-controls-open-close-character\">\n                            <!-- White up-pointing triangle: &#9651; White down-pointing triangle: &#9661; -->\n                            &#9651;\n                        </div>\n                    </div>\n\n                    <div class=\"plurid-controls-message\">\n                        <div class=\"plurid-controls-message-close\"></div>\n                        <div class=\"plurid-controls-message-content\">\n                        </div>\n                    </div>\n\n                    <div class=\"plurid-controls-more-container\">\n                        <ul>\n                            <li>\n                                <span class=\"plurid-controls-more-container-text\">\n                                    Open in New Tab\n                                </span>\n                                <span class=\"plurid-controls-more-container-shortcut\">\n                                    &#8997; &#8984; T\n                                </span>\n                            </li>\n                            <li>\n                                <span class=\"plurid-controls-more-container-text\">\n                                    Open in New Window\n                                </span>\n                                <span class=\"plurid-controls-more-container-shortcut\">\n                                    &#8997; &#8984; N\n                                </span>\n                            </li>\n                            <li>\n                                <span class=\"plurid-controls-more-container-text\">\n                                    Open in New Incognito Window\n                                </span>\n                                <span class=\"plurid-controls-more-container-shortcut\">\n                                    &#8679; &#8997; &#8984; N\n                                </span>\n                            </li>\n\n                            <hr>\n\n                            <li>\n                                <span class=\"plurid-controls-more-container-text\">\n                                    Flip Branch\n                                </span>\n                                <span class=\"plurid-controls-more-container-shortcut\">\n                                    &#8997; F\n                                </span>\n                            </li>\n                            <li>\n                                <span class=\"plurid-controls-more-container-text\">\n                                    Flip Content\n                                </span>\n                                <span class=\"plurid-controls-more-container-shortcut\">\n                                    &#8997; V\n                                </span>\n                            </li>\n                            <li class=\"plurid-controls-more-sheet-history\">\n                                <span class=\"plurid-controls-more-container-text\">\n                                    Sheet History\n                                </span>\n                                <span class=\"plurid-controls-more-container-shortcut\">\n                                    &#9654;\n                                </span>\n                                <div class=\"plurid-controls-sheet-history-container\">\n                                    <ul>\n                                        <li>\n                                            https://plurid.com/\n                                        </li>\n                                        <li>\n                                            https://deview.plurid.com/3kagndleoa\n                                        </li>\n                                        <li>\n                                            https://plurid.com/\n                                        </li>\n                                        <li>\n                                            https://deview.plurid.com/jdpiar1nra\n                                        </li>\n                                        <li>\n                                            https://plurid.com/\n                                        </li>\n                                        <li>\n                                            https://deview.plurid.com/dkpaosn11z\n                                        </li>\n                                    </ul>\n                                </div>\n                            </li>\n\n                            <hr>\n\n                            <label class=\"plurid-controls-more-checkmark-container\">\n                                <li>\n                                    <span class=\"plurid-controls-more-container-text\">\n                                        Opaque Back\n                                    </span>\n                                    <span class=\"plurid-controls-more-container-shortcut\">\n                                        <input type=\"checkbox\">\n                                        <span class=\"plurid-controls-more-checkmark\"></span>\n                                    </span>\n                                </li>\n                            </label>\n                            <li class=\"plurid-controls-more-back-color\">\n                                <span class=\"plurid-controls-more-container-text\">\n                                    Back Background Color\n                                </span>\n                                <span class=\"plurid-controls-more-container-shortcut plurid-controls-more-back-color-input\">\n                                    <input type=\"text\" value=\"#ff0000\">\n                                </span>\n                                <div class=\"plurid-controls-more-back-color-container\">\n                                    <div class=\"plurid-controls-more-selected-color\">\n                                    </div>\n                                    <div class=\"plurid-controls-more-select-color\">\n                                        <div class=\"plurid-controls-more-select-color-group\">\n                                            <div class=\"plurid-controls-more-select-color-group-element\">\n                                                <div>\n                                                    Hue\n                                                </div>\n                                                <div>\n                                                    <input type=\"text\">\n                                                </div>\n                                            </div>\n                                            <input type=\"range\">\n                                        </div>\n                                        <div class=\"plurid-controls-more-select-color-group\">\n                                            <div class=\"plurid-controls-more-select-color-group-element\">\n                                                <div>\n                                                    Saturation\n                                                </div>\n                                                <div>\n                                                    <input type=\"text\"> %\n                                                </div>\n                                            </div>\n                                            <input type=\"range\">\n                                        </div>\n                                        <div class=\"plurid-controls-more-select-color-group\">\n                                            <div class=\"plurid-controls-more-select-color-group-element\">\n                                                <div>\n                                                    Lightness\n                                                </div>\n                                                <div>\n                                                    <input type=\"text\"> %\n                                                </div>\n                                            </div>\n                                            <input type=\"range\">\n                                        </div>\n                                    </div>\n                                </div>\n                            </li>\n                            <li class=\"plurid-controls-more-front-color\">\n                                <span class=\"plurid-controls-more-container-text\">\n                                    Front Background Color\n                                </span>\n                                <span class=\"plurid-controls-more-container-shortcut plurid-controls-more-front-color-input\">\n                                    <input type=\"text\" value=\"#ff0000\">\n                                </span>\n                                <div class=\"plurid-controls-more-front-color-container\">\n                                    <div class=\"plurid-controls-more-selected-color\">\n                                    </div>\n                                    <div class=\"plurid-controls-more-select-color\">\n                                        <div class=\"plurid-controls-more-select-color-group\">\n                                            <div class=\"plurid-controls-more-select-color-group-element\">\n                                                <div>\n                                                    Hue\n                                                </div>\n                                                <div>\n                                                    <input type=\"text\">\n                                                </div>\n                                            </div>\n                                            <input type=\"range\">\n                                        </div>\n                                        <div class=\"plurid-controls-more-select-color-group\">\n                                            <div class=\"plurid-controls-more-select-color-group-element\">\n                                                <div>\n                                                    Saturation\n                                                </div>\n                                                <div>\n                                                    <input type=\"text\"> %\n                                                </div>\n                                            </div>\n                                            <input type=\"range\">\n                                        </div>\n                                        <div class=\"plurid-controls-more-select-color-group\">\n                                            <div class=\"plurid-controls-more-select-color-group-element\">\n                                                <div>\n                                                    Lightness\n                                                </div>\n                                                <div>\n                                                    <input type=\"text\"> %\n                                                </div>\n                                            </div>\n                                            <input type=\"range\">\n                                        </div>\n                                    </div>\n                                </div>\n                            </li>\n                            <label class=\"plurid-controls-more-checkmark-container\">\n                                <li>\n                                    <span class=\"plurid-controls-more-container-text\">\n                                        Transparent Sheet\n                                    </span>\n                                    <span class=\"plurid-controls-more-container-shortcut\">\n                                        <input type=\"checkbox\">\n                                        <span class=\"plurid-controls-more-checkmark\"></span>\n                                    </span>\n                                </li>\n                            </label>\n                            <li>\n                                Reset Colors\n                            </li>\n\n                            <hr>\n\n                            <li class=\"plurid-controls-more-branch-angle\">\n                                <span class=\"plurid-controls-more-container-text\">\n                                    <span class=\"plurid-controls-more-branch-angle-span-text\">\n                                        Branch Angle\n                                    </span>\n                                    <span class=\"plurid-controls-more-branch-angle-span-range\">\n                                        <input type=\"range\" min=\"1\" max=\"180\" value=\"90\">\n                                    </span>\n                                </span>\n                                <span class=\"plurid-controls-more-container-shortcut plurid-controls-more-branch-angle-input\">\n                                    <input type=\"text\" value=\"90\"> \n                                </span>\n                            </li>\n\n                            <li class=\"plurid-controls-more-bridge-opacity\">\n                                <span class=\"plurid-controls-more-container-text\">\n                                    <span class=\"plurid-controls-more-bridge-opacity-span-text\">\n                                        Bridge Opacity\n                                    </span>\n                                    <span class=\"plurid-controls-more-bridge-opacity-span-range\">\n                                        <input type=\"range\" min=\"1\" max=\"100\" value=\"90\">\n                                    </span>\n                                </span>\n                                <span class=\"plurid-controls-more-container-shortcut plurid-controls-more-bridge-opacity-input\">\n                                    <input type=\"text\" value=\"90\">\n                                </span>\n                            </li>\n\n                            <hr>\n\n                            <li>\n                                <span class=\"plurid-controls-more-container-text\">\n                                    Sheet Width\n                                </span>\n                                <span class=\"plurid-controls-more-container-shortcut plurid-controls-more-sheet-width-input\">\n                                    <input type=\"text\" value=\"1440\"> px\n                                </span>\n                            </li>\n                            <li>\n                                <span class=\"plurid-controls-more-container-text\">\n                                    Sheet Height\n                                </span>\n                                <span class=\"plurid-controls-more-container-shortcut plurid-controls-more-sheet-height-input\">\n                                    <input type=\"text\" value=\"950\"> px\n                                </span>\n                            </li>\n\n                            <label class=\"plurid-controls-more-checkmark-container\">\n                                <li>\n                                    <span class=\"plurid-controls-more-container-text\">\n                                        Lock Sheet Size\n                                    </span>\n                                    <span class=\"plurid-controls-more-container-shortcut\">\n                                        <input type=\"checkbox\">\n                                        <span class=\"plurid-controls-more-checkmark\"></span>\n                                    </span>\n                                </li>\n                            </label>\n                            <li>Reset Sheet Size</li>\n\n                            <hr>\n\n                            <li>\n                                Controls Position\n                                <form>\n                                    <fieldset>\n                                        <div>\n                                            <input type=\"radio\" name=\"plurid-controls-follows-translate-side\" checked>\n                                            <label>Top</label>\n                                        </div>\n\n                                        <div>\n                                            <input type=\"radio\" name=\"plurid-controls-follows-translate-side\">\n                                            <label>Right</label>\n                                        </div>\n\n                                        <div>\n                                            <input type=\"radio\" name=\"plurid-controls-follows-translate-side\">\n                                            <label>Left</label>\n                                        </div>\n                                    </fieldset>\n                                </form>\n                            </li>\n\n                            <label class=\"plurid-controls-more-checkmark-container\">\n                                <li>\n                                    <span class=\"plurid-controls-more-container-text\">\n                                        Controls Follow Translate on Side\n                                    </span>\n                                    <span class=\"plurid-controls-more-container-shortcut\">\n                                        <input type=\"checkbox\">\n                                        <span class=\"plurid-controls-more-checkmark\"></span>\n                                    </span>\n                                </li>\n                            </label>\n\n                            <hr>\n\n                            <label class=\"plurid-controls-more-checkmark-container\">\n                                <li>\n                                    <span class=\"plurid-controls-more-container-text\">\n                                        Show Icons Tooltips\n                                    </span>\n                                    <span class=\"plurid-controls-more-container-shortcut\">\n                                        <input type=\"checkbox\">\n                                        <span class=\"plurid-controls-more-checkmark\"></span>\n                                    </span>\n                                </li>\n                            </label>\n\n                            <li>Shortcuts</li>\n                            <li>Edit Buttons</li>\n                            <li>Reset to Default</li>\n\n                            <hr>\n\n                            <li>About Plurid</li>\n                        </ul>\n                    </div>\n                    `;\n  return content;\n}\n\nfunction setControls(element) {\n  setActivePlurid(element);\n  goToParent(element);\n  minimizeSelectedSheet(element);\n  reduceSelectedSheet(element);\n  reloadPlurid(element);\n  extendBridge(element);\n  closePlurid(element);\n  isolatePlurid(element);\n  backPlurid(element);\n  forwardPlurid(element);\n  searchPlurid(element);\n  extractRoot(element);\n  opacityPlurid(element);\n  morePlurid(element);\n  openCloseControls(element);\n  setControlsMessageClose(element);\n}\n\nfunction setActivePlurid(element) {\n  let pluridSelect = element.getElementsByClassName(\"plurid-controls-select\")[0];\n  pluridSelect.addEventListener(\"click\", event => {\n    let pluridRoot = (0, _sheetCore.getSpecifiedParent)(pluridSelect, 'PLURID-ROOT');\n    pluridScene.meta.activePlurid = pluridRoot.id;\n    pluridScene.meta.previousActiveSheet = pluridScene.meta.activeSheet;\n    pluridScene.meta.activeSheet = element.parentElement.id;\n    (0, _sheetCore.removeActiveSheetShadow)(pluridScene.meta.previousActiveSheet, 'plurid-sheet-active-transform');\n    (0, _sheetCore.addActiveSheetShadow)(pluridScene.meta.activeSheet, 'plurid-sheet-active-transform');\n  }); // pluridSelect.addEventListener(\"dblclick\", (event) => {\n  //     // console.log('dblclick', pluridSelect);\n  //     // console.log(pluridSelect.parentElement.parentElement.parentElement);\n  //     activePlurid.selected = pluridSelect.parentElement.parentElement.parentElement;\n  //     let activeRoot = document.getElementById(activePlurid.selected.id).parentElement;\n  //     let activeRoots = document.getElementById(activePlurid.selected.id).parentElement.parentElement;\n  //     // console.log(active);\n  //     activeRoot.style.transform = \"translateX(0px) translateY(0px) translateZ(0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1)\";\n  //     activeRoots.style.transform = \"translateX(0px) translateY(0px) translateZ(0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1)\";\n  // });\n}\n\nfunction goToParent(element) {\n  let pluridParent = element.getElementsByClassName(\"plurid-controls-parent\")[0];\n  let bridge = element.parentElement.parentElement.parentElement.children[0];\n  let scion = element.parentElement.parentElement.parentElement.children[1];\n  let controls = pluridParent.parentElement;\n\n  if (bridge.nodeName == \"PLURID-BRIDGE\") {\n    pluridParent.addEventListener('click', event => {\n      console.log('Plurid Parent');\n    });\n  } else {\n    pluridParent.classList.add(\"plurid-button-disabled\");\n  }\n}\n\nfunction minimizeSelectedSheet(element) {\n  let pluridMinimize = element.getElementsByClassName(\"plurid-controls-minimize\")[0];\n  let pluridReduce = element.getElementsByClassName(\"plurid-controls-reduce-height\")[0];\n  pluridMinimize.addEventListener('click', event => {\n    let sheet = element.parentElement;\n    let sheetChildren = pluridScene.getChildrenBySheetId(sheet.id);\n\n    if (pluridReduce.classList.contains(\"plurid-button-active\")) {\n      pluridReduce.classList.remove(\"plurid-button-active\");\n    }\n\n    if (sheet.classList.contains(\"plurid-sheet-reduce-height\")) {\n      sheet.classList.remove(\"plurid-sheet-reduce-height\");\n      toggleChildren(sheetChildren);\n    }\n\n    sheet.classList.toggle(\"plurid-sheet-minimize\");\n    pluridMinimize.classList.toggle(\"plurid-button-active\");\n    toggleChildren(sheetChildren);\n  });\n}\n\nfunction reduceSelectedSheet(element) {\n  let pluridReduce = element.getElementsByClassName(\"plurid-controls-reduce-height\")[0];\n  let pluridMinimize = element.getElementsByClassName(\"plurid-controls-minimize\")[0];\n  pluridReduce.addEventListener('click', event => {\n    let sheet = element.parentElement;\n    let sheetChildren = pluridScene.getChildrenBySheetId(sheet.id);\n    let sheetHeight = window.getComputedStyle(sheet, null).getPropertyValue(\"height\");\n    sheetHeight = parseInt(sheetHeight);\n\n    if (sheetHeight > 699 && sheetHeight > 60) {\n      if (sheet.classList.contains(\"plurid-sheet-minimize\")) {\n        sheet.classList.remove(\"plurid-sheet-minimize\");\n        toggleChildren(sheetChildren);\n      }\n\n      sheet.classList.toggle(\"plurid-sheet-reduce-height\");\n      pluridReduce.classList.toggle(\"plurid-button-active\");\n      toggleChildren(sheetChildren);\n    }\n\n    if (sheetHeight <= 60) {\n      pluridMinimize.classList.remove(\"plurid-button-active\");\n\n      if (sheet.classList.contains(\"plurid-sheet-minimize\")) {\n        sheet.classList.remove(\"plurid-sheet-minimize\");\n        toggleChildren(sheetChildren);\n      }\n\n      sheet.classList.add(\"plurid-sheet-reduce-height\");\n      pluridReduce.classList.add(\"plurid-button-active\");\n      toggleChildren(sheetChildren);\n    }\n  });\n}\n/**\n * Helper function to toggle show/hide of plurid branches.\n *\n * @param {Array} sheetChildren\n */\n\n\nfunction toggleChildren(sheetChildren) {\n  for (let child of sheetChildren) {\n    let branch = document.getElementById(child);\n\n    if (branch.style.display === \"none\") {\n      branch.style.display = \"block\";\n    } else {\n      branch.style.display = \"none\";\n    }\n  }\n}\n\nfunction closePlurid(element) {\n  let pluridParentClose = element.getElementsByClassName(\"plurid-controls-close\")[0];\n  pluridParentClose.addEventListener(\"click\", event => {\n    let sheet = element.parentElement;\n    let sheetChildren = pluridScene.getChildrenBySheetId(sheet.id);\n\n    if (sheet.parentElement.nodeName == \"PLURID-ROOT\") {\n      let pluridRoot = sheet.parentElement;\n      pluridRoot.removeChild(sheet);\n      removeChildren(pluridRoot, sheetChildren);\n    } else {\n      let pluridRoot = sheet.parentElement.parentElement.parentElement;\n\n      if (pluridRoot.nodeName == \"PLURID-ROOT\") {\n        let branch = sheet.parentElement.parentElement;\n        pluridRoot.removeChild(branch);\n        removeChildren(pluridRoot, sheetChildren);\n      }\n    }\n\n    pluridScene.meta.activePlurid = 'plurid-roots-1';\n  });\n}\n/**\n * Helper function to remove plurid branches.\n *\n * @param {HTMLElement} pluridRoot\n * @param {Array} sheetChildren\n */\n\n\nfunction removeChildren(pluridRoot, children) {\n  if (children) {\n    for (let child of children) {\n      let branch = document.getElementById(child);\n\n      if (branch) {\n        pluridRoot.removeChild(branch);\n      }\n    }\n  }\n}\n\nfunction reloadPlurid(element) {\n  let pluridReload = element.getElementsByClassName(\"plurid-controls-reload\")[0];\n  let sheet = element.parentElement;\n  let pluridSearchInput = element.getElementsByClassName(\"plurid-controls-url-input\")[0];\n  let url = pluridSearchInput.value;\n\n  if (!url) {\n    pluridReload.classList.add(\"plurid-button-disabled\");\n  }\n\n  pluridReload.addEventListener('click', event => {\n    url = pluridSearchInput.value;\n\n    if (url) {\n      pluridReload.classList.add(\"rotate-button\");\n      getPage(url, sheet, element);\n      setTimeout(() => {\n        pluridReload.classList.remove(\"rotate-button\");\n      }, 600);\n    }\n  });\n}\n\nfunction extendBridge(element) {\n  let bridgeExtend = element.getElementsByClassName(\"plurid-controls-extend\")[0];\n  let bridge = element.parentElement.parentElement.parentElement.children[0];\n  let scion = element.parentElement.parentElement.parentElement.children[1];\n  let controls = bridgeExtend.parentElement;\n\n  if (bridge.nodeName == \"PLURID-BRIDGE\") {\n    bridgeExtend.addEventListener('mousedown', () => {\n      document.body.style.cursor = \"-webkit-grabbing\";\n      document.body.style.cursor = \"grabbing\";\n      bridgeExtend.style.cursor = \"-webkit-grabbing\";\n      bridgeExtend.style.cursor = \"grabbing\";\n      window.addEventListener('mousemove', extend);\n      window.addEventListener('mouseup', () => {\n        document.body.style.cursor = \"default\";\n        bridgeExtend.style.cursor = \"-webkit-grab\";\n        bridgeExtend.style.cursor = \"grab\";\n        window.removeEventListener('mousemove', extend);\n      });\n    });\n  } else {\n    bridgeExtend.classList.add(\"plurid-button-disabled\");\n  }\n\n  function extend(event) {\n    let width = parseInt(bridge.style.width) || 100;\n    let right = parseInt(scion.style.right) || -100; // console.log('bridge.style.width', bridge.style.width);\n    // console.log('scion.style.right', scion.style.right);\n    // console.log(width);\n\n    width = width + event.movementX + \"px\";\n    right = right - event.movementX + \"px\";\n\n    if (parseInt(bridge.style.width) <= 0) {\n      // console.log(parseInt(width));\n      // if (parseInt(width) > 0) {\n      bridge.style.width = \"100px\";\n      scion.style.right = \"-100px\"; // }\n    } else {\n      bridge.style.width = width;\n      scion.style.right = right;\n    } // TODO\n    // update <plurid-branch>es currently open\n    // with the appropriate length of the <plurid-bridge>\n\n  }\n}\n\nfunction isolatePlurid(element) {\n  let pluridIsolate = element.getElementsByClassName(\"plurid-controls-isolate\")[0];\n  pluridIsolate.addEventListener('click', event => {\n    console.log('Plurid Isolate');\n  });\n}\n\nfunction backPlurid(element) {\n  let pluridBack = element.getElementsByClassName(\"plurid-controls-back\")[0];\n  pluridBack.addEventListener('click', event => {\n    console.log('Plurid Back');\n  });\n}\n\nfunction forwardPlurid(element) {\n  let pluridForward = element.getElementsByClassName(\"plurid-controls-forward\")[0];\n  pluridForward.addEventListener('click', event => {\n    console.log('Plurid Forward');\n  });\n}\n\nfunction searchPlurid(element) {\n  let pluridSearch = element.getElementsByClassName(\"plurid-controls-search\")[0];\n  let pluridSearchInput = element.getElementsByClassName(\"plurid-controls-url-input\")[0];\n  let pluridCancelSearch = element.getElementsByClassName(\"plurid-controls-cancel\")[0];\n  let sheet = element.parentElement;\n\n  if (sheet.parentElement.nodeName == \"PLURID-ROOT\") {\n    let pluridRoot = sheet.parentElement;\n  } else {\n    let pluridRoot = sheet.parentElement.parentElement.parentElement;\n\n    if (pluridRoot.nodeName == \"PLURID-ROOT\") {\n      let branch = sheet.parentElement.parentElement;\n      setSearchLink(branch.link, pluridSearchInput);\n    }\n  }\n\n  function setSearchLink(branchLink, pluridSearchInput) {\n    let link = document.getElementById(branchLink);\n    let linkHref;\n\n    if (link.nodeName == \"A\") {\n      linkHref = link.href;\n    }\n\n    if (link.nodeName == \"PLURID-LINK\") {\n      linkHref = link.page;\n      linkHref = new URL(linkHref, window.location.href).href;\n    }\n\n    pluridSearchInput.value = linkHref;\n    let pluridReload = element.getElementsByClassName(\"plurid-controls-reload\")[0];\n    pluridReload.classList.remove(\"plurid-sheet-controls-disabled\");\n  }\n\n  pluridSearch.addEventListener('click', event => {\n    search(pluridSearchInput.value, sheet, element);\n  });\n  pluridCancelSearch.addEventListener('click', event => {\n    clearSearch(pluridSearchInput);\n  });\n  pluridSearchInput.addEventListener('keydown', event => {\n    if (event.key == \"Escape\") {\n      clearSearch(pluridSearchInput);\n    }\n\n    if (event.key == \"Enter\") {\n      search(pluridSearchInput.value, sheet, element);\n    }\n  });\n\n  function clearSearch(searchInput) {\n    searchInput.value = \"\";\n    searchInput.focus();\n  }\n\n  function search(url, sheet) {\n    if (!url) {\n      let message = \"Nothing to search for.\";\n      setControlsMessage(element, message);\n    } else {\n      let sheetChildren = pluridScene.getChildrenBySheetId(sheet.id);\n\n      if (sheet.parentElement.nodeName == \"PLURID-ROOT\") {\n        let pluridRoot = sheet.parentElement;\n        pluridRoot.removeChild(sheet);\n        removeChildren(pluridRoot, sheetChildren);\n      } else {\n        let pluridRoot = sheet.parentElement.parentElement.parentElement;\n\n        if (pluridRoot.nodeName == \"PLURID-ROOT\") {\n          let branch = sheet.parentElement.parentElement;\n          removeChildren(pluridRoot, sheetChildren);\n        }\n      }\n\n      getPage(url, sheet, element);\n    }\n  }\n}\n\nfunction getPage(url, sheet, element) {\n  let sheetContent = sheet.getElementsByTagName('plurid-content')[0];\n  let xhttp = new XMLHttpRequest();\n\n  xhttp.onreadystatechange = function () {\n    if (this.readyState == 4 && this.status == 200) {\n      let parser = new DOMParser();\n      let doc = parser.parseFromString(this.responseText, \"text/html\");\n      sheetContent.innerHTML = doc.body.innerHTML;\n    }\n\n    if (this.status === 404) {\n      let message = `Page not found.`;\n      setControlsMessage(element, message);\n    }\n  };\n\n  xhttp.open(\"GET\", url, true);\n  xhttp.setRequestHeader(\"Cache-Control\", \"no-cache\");\n  xhttp.setRequestHeader(\"Pragma\", \"no-cache\");\n  xhttp.send();\n}\n\nfunction extractRoot(element) {\n  let pluridExtract = element.getElementsByClassName(\"plurid-controls-extract\")[0];\n  pluridExtract.addEventListener('click', event => {\n    console.log('Plurid Root Extract');\n  });\n}\n\nfunction opacityPlurid(element) {\n  let pluridOpacity = element.getElementsByClassName(\"plurid-controls-opacity\")[0];\n  let sheet = element.parentElement;\n  pluridOpacity.addEventListener('click', event => {\n    // MAYBE\n    // type into the opacity button text\n    // if (event.shiftKey) {\n    //     pluridOpacity.setAttribute(\"contenteditable\", \"true\");\n    //     pluridOpacity.addEventListener('keydown', event => {\n    //         // console.log(event.key);\n    //         const isNumber = isFinite(event.key);\n    //         if (!isNumber) {\n    //             if (event.key != \"Backspace\"\n    //                 && event.key != \"Delete\"\n    //                 && event.key != \"Enter\") {\n    //                 event.preventDefault();\n    //             }\n    //         }\n    //         pluridOpacity.addEventListener('input', event => {\n    //             let opacity = pluridOpacity.innerText;\n    //             // console.log(opacity);\n    //             sheet.style.opacity = opacity / 100;\n    //         })\n    //         if (event.key == \"Enter\") {\n    //             pluridOpacity.setAttribute(\"contenteditable\", \"false\");\n    //             pluridOpacity.blur();\n    //         }\n    //     });\n    // } else {\n    setOpacity(event, sheet, pluridOpacity); // }\n  });\n\n  function setOpacity(event, sheet, pluridOpacity) {\n    let opacity = parseInt(pluridOpacity.innerText);\n\n    if (opacity == 100) {\n      pluridOpacity.innerText = 70;\n      sheet.style.opacity = 0.7;\n    } else if (opacity == 70) {\n      pluridOpacity.innerText = 35;\n      sheet.style.opacity = .35;\n    } else {\n      pluridOpacity.innerText = 100;\n      sheet.style.opacity = 1;\n    }\n  }\n}\n\nfunction morePlurid(element) {\n  let pluridMore = element.getElementsByClassName(\"plurid-controls-more\")[0];\n  let pluridMoreContainer = element.getElementsByClassName(\"plurid-controls-more-container\")[0];\n  let sheet = element.parentElement;\n  pluridMore.addEventListener('click', event => {\n    if (pluridMoreContainer.style.display == \"\" || pluridMoreContainer.style.display == \"none\") {\n      pluridMoreContainer.style.display = \"block\";\n      pluridMore.classList.add(\"plurid-sheet-control-active\");\n    } else {\n      pluridMoreContainer.style.display = \"none\";\n      pluridMore.classList.remove(\"plurid-sheet-control-active\");\n    }\n  });\n}\n\nfunction openCloseControls(element) {\n  let pluridControlsContent = element.getElementsByClassName(\"plurid-container-controls-content\")[0];\n  let pluridControlsOpenClose = element.getElementsByClassName(\"plurid-controls-open-close\")[0];\n  let pluridControlsOpenCloseCharacter = element.getElementsByClassName(\"plurid-controls-open-close-character\")[0];\n  let pluridControlsOpenCloseState = 1;\n  pluridControlsOpenCloseCharacter.addEventListener(\"click\", event => {\n    let parentPlurid = element.parentElement;\n\n    if (pluridControlsOpenCloseState == 1) {\n      parentPlurid.style.paddingTop = \"50px\";\n      pluridControlsContent.style.display = \"none\";\n      element.style.height = \"11px\";\n      pluridControlsOpenClose.style.bottom = \"3px\";\n      pluridControlsOpenCloseCharacter.innerHTML = \"&#9661;\";\n    }\n\n    if (pluridControlsOpenCloseState == 0) {\n      parentPlurid.style.paddingTop = \"80px\";\n      pluridControlsContent.style.display = \"inline-flex\";\n      pluridControlsOpenClose.style.bottom = \"2px\";\n      element.style.height = \"50px\";\n      pluridControlsOpenCloseCharacter.innerHTML = \"&#9651;\";\n    }\n\n    pluridControlsOpenCloseState = pluridControlsOpenCloseState ? 0 : 1;\n  });\n}\n\nfunction setControlsMessageClose(element) {\n  let pluridMessage = element.getElementsByClassName(\"plurid-controls-message\")[0];\n  let pluridMessageClose = element.getElementsByClassName(\"plurid-controls-message-close\")[0];\n  let pluridMessageContent = element.getElementsByClassName(\"plurid-controls-message-content\")[0];\n  pluridMessageClose.addEventListener(\"click\", event => {\n    pluridMessage.style.display = \"none\";\n    pluridMessageContent.innerHTML = \"\";\n  });\n}\n\nfunction setControlsMessage(element, message) {\n  let pluridMessage = element.getElementsByClassName(\"plurid-controls-message\")[0];\n  let pluridMessageContent = element.getElementsByClassName(\"plurid-controls-message-content\")[0];\n  pluridMessageContent.innerHTML = message;\n  pluridMessage.style.display = \"block\";\n  let timeout = 1250;\n  setTimeout(() => {\n    pluridMessage.style.display = \"none\";\n    pluridMessageContent.innerHTML = \"\";\n  }, timeout);\n}\n\n//# sourceURL=webpack:///./src/js/source/elements/controls/controls-core.js?");

/***/ }),

/***/ "./src/js/source/elements/controls/controls-define.js":
/*!************************************************************!*\
  !*** ./src/js/source/elements/controls/controls-define.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initControls = initControls;\n\nvar _controlsCore = __webpack_require__(/*! ./controls-core */ \"./src/js/source/elements/controls/controls-core.js\");\n\nclass PluridControls extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    this.innerHTML = (0, _controlsCore.contentControls)();\n    (0, _controlsCore.setControls)(this);\n  }\n\n}\n\nfunction initControls() {\n  customElements.define('plurid-controls', PluridControls);\n}\n\n//# sourceURL=webpack:///./src/js/source/elements/controls/controls-define.js?");

/***/ }),

/***/ "./src/js/source/elements/link/link-core.js":
/*!**************************************************!*\
  !*** ./src/js/source/elements/link/link-core.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setLinkContent = setLinkContent;\n\nfunction setLinkContent(element) {\n  if (element.innerHTML == \"\") {\n    element.innerHTML = '&#9624;'; //  'QUADRANT UPPER LEFT' (U+2598)\n    // element.innerHTML = '&#9612;';   //  'LEFT HALF BLOCK' (U+258C)\n    // element.innerHTML = '&#9614;';   //  'LEFT ONE QUARTER BLOCK' (U+258E)\n  }\n}\n\n//# sourceURL=webpack:///./src/js/source/elements/link/link-core.js?");

/***/ }),

/***/ "./src/js/source/elements/link/link-define.js":
/*!****************************************************!*\
  !*** ./src/js/source/elements/link/link-define.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _linkCore = __webpack_require__(/*! ./link-core */ \"./src/js/source/elements/link/link-core.js\");\n\nvar _complex = __webpack_require__(/*! ../../core/utils/complex */ \"./src/js/source/core/utils/complex.js\");\n\nclass PluridLink extends HTMLElement {\n  constructor() {\n    super();\n    (0, _complex.setId)(this, 'link');\n    (0, _linkCore.setLinkContent)(this);\n  }\n\n  get page() {\n    return this.getAttribute('page');\n  }\n\n  set page(newPage) {\n    this.setAttribute('page', newPage);\n  }\n\n  get samepage() {\n    switch (this.getAttribute('samepage')) {\n      case \"\":\n        return true;\n\n      case \"true\":\n        return true;\n\n      case \"false\":\n        return false;\n\n      default:\n        return false;\n    }\n  }\n\n  set samepage(newSamepage) {\n    this.setAttribute('samepage', newSamepage);\n  }\n\n  get active() {\n    switch (this.getAttribute('active')) {\n      case \"\":\n        return true;\n\n      case \"true\":\n        return true;\n\n      case \"false\":\n        return false;\n\n      default:\n        return false;\n    }\n  }\n\n  set active(newActive) {\n    this.setAttribute('active', newActive);\n  }\n\n  getNamedPage(pageName) {\n    let pluridPages = document.getElementsByTagName('plurid-page');\n\n    for (let pluridPage of pluridPages) {\n      if (pluridPage.name == pageName) {\n        return pluridPage;\n      }\n    }\n  }\n\n}\n\ncustomElements.define('plurid-link', PluridLink);\n\n//# sourceURL=webpack:///./src/js/source/elements/link/link-define.js?");

/***/ }),

/***/ "./src/js/source/elements/options/options-core.js":
/*!********************************************************!*\
  !*** ./src/js/source/elements/options/options-core.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderOptions = renderOptions;\nexports.displayOptions = displayOptions;\nexports.contentOptions = contentOptions;\nexports.setButtons = setButtons;\n\nvar _transforms = __webpack_require__(/*! ../../core/logic/transforms */ \"./src/js/source/core/logic/transforms.js\");\n\nvar plurid = _interopRequireWildcard(_transforms);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction renderOptions(element) {\n  const options = document.createElement(\"plurid-options\");\n  element.appendChild(options);\n}\n\nfunction displayOptions(element) {// element.addEventListener(\"mousemove\", event => {\n  //     function pathContains(element, path) {\n  //         let contains = false;\n  //         path.map(el => { el.nodeName === element ? contains = true : ''; });\n  //         return contains;\n  //     }\n  //     // cross-browsers eventPath\n  //     let eventPath = event.path || (event.composedPath && event.composedPath());\n  //     let containsOptions = pathContains('PLURID-OPTIONS', eventPath);\n  //     let cursorYLocation = event.pageY;\n  //     let containerHeight = element.clientHeight;\n  //     let optionsDisplayLimitOn = 80;\n  //     let optionsDisplayLimitOff = 80;\n  //     let optionsTag = element.getElementsByTagName(\"plurid-options\")[0];\n  //     if (cursorYLocation > (containerHeight - optionsDisplayLimitOn)) {\n  //         optionsTag.style.display = \"block\";\n  //     }\n  //     if (cursorYLocation < (containerHeight - optionsDisplayLimitOff) && !containsOptions){\n  //         optionsTag.style.display = \"none\";\n  //     }\n  // });\n}\n\nfunction contentOptions() {\n  let content = ` <div class=\"plurid-container-options-container\">\n                        <div class=\"plurid-container-options-content\">\n                            <div class=\"plurid-container-options-group\">\n                                <div class=\"plurid-button plurid-button-icon plurid-container-rotate-left\">\n                                    &#x25c0&#xFE0E;\n                                </div>\n\n                                <span class=\"plurid-button plurid-button-icon plurid-container-rotate-up\">&#x25B2;</span>\n                                <p>Rotation</p>\n                                <span class=\"plurid-button plurid-button-icon plurid-container-rotate-down\">&#x25BC;</span>\n                                <span class=\"plurid-button plurid-button-icon plurid-container-rotate-right\">&#x25b6&#xFE0E;</span>\n                            </div>\n\n                            <div class=\"plurid-container-options-group\">\n                                <span class=\"plurid-button plurid-button-icon plurid-container-translate-left\">&#x25c0&#xFE0E;</span>\n                                <span class=\"plurid-button plurid-button-icon plurid-container-translate-up\">&#x25B2;</span>\n                                <p>Translation</p>\n                                <span class=\"plurid-button plurid-button-icon plurid-container-translate-down\">&#x25BC;</span>\n                                <span class=\"plurid-button plurid-button-icon plurid-container-translate-right\">&#x25b6&#xFE0E;</span>\n                            </div>\n\n                            <div class=\"plurid-container-options-group\">\n                                <span class=\"plurid-button plurid-button-icon  plurid-container-scale-up\">&#x25B2;</span>\n                                <p>Scale</p>\n                                <span class=\"plurid-button plurid-button-icon  plurid-container-scale-down\">&#x25BC;</span>\n                            </div>\n\n                            <div class=\"plurid-container-options-group\">\n                                <span class=\"plurid-button plurid-button-icon plurid-container-button-center-everything\">\n                                    &#8281;\n                                </span>\n                            </div>\n\n                            <div class=\"plurid-container-options-group\">\n                                <span class=\"plurid-button plurid-button-icon plurid-container-button-add-root\">\n                                    &#10746;\n                                </span>\n                            </div>\n\n                            <div class=\"plurid-container-options-group\">\n                                <span class=\"plurid-button plurid-button-icon plurid-container-button-gyroscope\">\n                                    G\n                                </span>\n                            </div>\n\n                            <div class=\"plurid-container-options-group\">\n                                <span class=\"plurid-button plurid-button-icon plurid-container-button-more\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 622.51 130.1\"><defs></defs><title>More</title><g id=\"Layer_2\" data-name=\"Layer 2\"><g id=\"More\"><rect class=\"plurid-button-icon-svg\" x=\"20.2\" y=\"20.2\" width=\"89.69\" height=\"89.69\"/><path class=\"plurid-button-icon-svg\" d=\"M130.1,130.1H0V0H130.1ZM40.4,89.69H89.69V40.4H40.4Z\"/><rect class=\"plurid-button-icon-svg\" x=\"266.21\" y=\"20.2\" width=\"89.69\" height=\"89.69\"/><path class=\"plurid-button-icon-svg\" d=\"M376.11,130.1H246V0h130.1Zm-89.7-40.41H335.7V40.4H286.41Z\"/><rect class=\"plurid-button-icon-svg\" x=\"512.62\" y=\"20.2\" width=\"89.69\" height=\"89.69\"/><path class=\"plurid-button-icon-svg\" d=\"M622.51,130.1H492.42V0H622.51ZM532.82,89.69h49.29V40.4H532.82Z\"/></g></g></svg>\n                                </span>\n                            </div>\n\n                            <div class=\"plurid-container-options-more\">\n                                <div class=\"plurid-container-options-more-group-transforms\">\n                                    <div class=\"plurid-button\">\n                                        <!-- <label class=\"plurid-container-options-group-more plurid-controls-more-checkmark-container\">\n                                            <span class=\"plurid-controls-more-container-text\">\n                                                Lock Rotation X\n                                            </span>\n                                            <span class=\"plurid-controls-more-container-shortcut\">\n                                                <input type=\"checkbox\">\n                                                <span class=\"plurid-controls-more-checkmark\"></span>\n                                            </span>\n                                        </label> -->\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-lock-rotation-x\">\n                                        <p>Lock Rotation X</p>\n                                        <input type=\"checkbox\">\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-lock-rotation-y\">\n                                        <p>Lock Rotation Y</p>\n                                        <input type=\"checkbox\">\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-scroll-translate\">\n                                        <p>Use Scroll to Translate</p>\n                                        <input type=\"checkbox\" class=\"plurid-container-use-scroll\">\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-lock-translation-x\">\n                                        <p>Lock Translation X</p>\n                                        <input type=\"checkbox\">\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-lock-translation-y\">\n                                        <p>Lock Translation Y</p>\n                                        <input type=\"checkbox\">\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-transform-sensitivity\">\n                                        <p>Transform Sensitivity</p>\n                                        <input type=\"text\">\n                                        <input type=\"range\">\n                                    </div>\n                                </div>\n\n                                <hr>\n\n                                <div class=\"plurid-container-options-more-group-colors\">\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-container-background\">\n                                        <p>Container Background</p>\n                                        <span class=\"plurid-container-button plurid-container-color\"></span>\n                                        <span class=\"plurid-container-button plurid-container-color\"></span>\n                                        <span class=\"plurid-container-button plurid-container-color\"></span>\n                                        <span class=\"plurid-container-button plurid-container-color\"></span>\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-container-background-gradient\">\n                                        <p>Radial Background Gradient (performance intensive)</p>\n                                        <input type=\"checkbox\">\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-general-theme\">\n                                        <p>General Theme</p>\n                                        <span class=\"plurid-container-button plurid-container-color\"></span>\n                                        <span class=\"plurid-container-button plurid-container-color\"></span>\n                                        <span class=\"plurid-container-button plurid-container-color\"></span>\n                                        <span class=\"plurid-container-button plurid-container-color\"></span>\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-shadows\">\n                                        <p>Shadows (performance intensive)</p>\n                                        <input type=\"checkbox\">\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-reflections\">\n                                        <p>Reflections (performance intensive)</p>\n                                        <input type=\"checkbox\">\n                                    </div>\n                                </div>\n\n                                <hr>\n\n                                <div class=\"plurid-container-options-more-group-opacity\">\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-opacity-after-click\">\n                                        <p>Parent Opacity After Click on Link</p>\n                                        <input type=\"text\">\n                                        <input type=\"range\">\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-opacity-after-doubleclick\">\n                                        <p>General Opacity After Double-Click on Select</p>\n                                        <input type=\"text\">\n                                        <input type=\"range\">\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-perspective\">\n                                        <p>Perspective</p>\n                                        <input type=\"text\">\n                                        <input type=\"range\">\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-link-click-transform\">\n                                        <p>Click on Link Transforms to Normal View</p>\n                                        <input type=\"checkbox\">\n                                    </div>\n\n                                    <div class=\"plurid-container-options-group-more plurid-container-more-link-click-transform\">\n                                        <p>Responsive Sheet Width</p>\n                                        <input type=\"checkbox\">\n                                    </div>\n                                </div>\n\n                                <hr>\n\n                                <div class=\"plurid-container-options-group-more plurid-container-more-shortcuts\">\n                                    <p class=\"plurid-container-link-expand plurid-container-shortcuts-button\">Shortcuts</p>\n                                </div>\n                                <div class=\"plurid-container-options-group-more plurid-container-more-always-show-options\">\n                                    <p class=\"plurid-container-link-expand \">Always Show Options Bar</p>\n                                    <input type=\"checkbox\">\n                                </div>\n                                <div class=\"plurid-container-options-group-more plurid-container-more-show-viewcube\">\n                                    <p class=\"plurid-container-link-expand \">Show Viewcube</p>\n                                    <input type=\"checkbox\">\n                                </div>\n                                <div class=\"plurid-container-options-group-more plurid-container-more-carve-design\">\n                                    <p class=\"plurid-container-link-expand \">Carve Design</p>\n                                    <input type=\"checkbox\">\n                                </div>\n                                <div class=\"plurid-container-options-group-more plurid-container-more-reset\">\n                                    <p class=\"plurid-container-link-expand \">Reset to Default</p>\n                                </div>\n                            </div>\n\n                            <div class=\"plurid-container-options-shortcuts\">\n                                <div class=\"plurid-container-options-group-more\">\n                                    <p>Hold Button and Move Pointer:</p>\n                                </div>\n                                <div class=\"plurid-container-options-group-more\">\n                                    <p>Shift for Rotation</p>\n                                </div>\n                                <div class=\"plurid-container-options-group-more\">\n                                    <p>Alt/Option for Translation</p>\n                                </div>\n                                <div class=\"plurid-container-options-group-more\">\n                                    <p>Control/Command for Scale</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`;\n  return content;\n}\n\nfunction setButtons(container) {\n  transformButtons(container);\n  centerEverything(container);\n  addAnotherRoot(container);\n  moreOptions(container);\n  lockTransforms(container);\n  scrollTransform(container);\n  transformSensitivity(container);\n  containerBackground(container);\n  generalTheme(container);\n  linkTransformNormal(container);\n  parentOpacityAfterClick(container);\n  generalOpacityAfterDoubleClick(container);\n  shortcuts(container);\n  alwaysShowOptions(container);\n  resetDefault(container);\n}\n\nfunction transformButtons(container) {\n  function setTransformButton(transformPlurid, container, type, direction) {\n    let button = container.getElementsByClassName(`plurid-container-${type}-${direction}`)[0];\n    button.addEventListener('click', event => {\n      transformPlurid = pluridScene.meta.activePlurid ? container.querySelector(`#${pluridScene.meta.activePlurid}`) : container.getElementsByTagName(\"plurid-roots\")[0];\n\n      if (type === 'rotate') {\n        plurid.rotatePlurid(event, transformPlurid, direction);\n      }\n\n      if (type === 'translate') {\n        plurid.translatePlurid(event, transformPlurid, direction);\n      }\n\n      if (type === 'scale') {\n        plurid.scalePlurid(event, transformPlurid, direction);\n      }\n    });\n    let timer;\n\n    let rotatePlurid = function (event, direction) {\n      plurid.rotatePlurid(event, transformPlurid, direction);\n      timer = setTimeout(rotatePlurid, 35, event, direction);\n    };\n\n    let translatePlurid = function (event, direction) {\n      plurid.translatePlurid(event, transformPlurid, direction);\n      timer = setTimeout(translatePlurid, 25, event, direction);\n    };\n\n    let scalePlurid = function (event, direction) {\n      plurid.scalePlurid(event, transformPlurid, direction);\n      timer = setTimeout(scalePlurid, 35, event, direction);\n    };\n\n    button.addEventListener(\"mousedown\", function (event) {\n      transformPlurid = pluridScene.meta.activePlurid ? container.querySelector(`#${pluridScene.meta.activePlurid}`) : container.getElementsByTagName(\"plurid-roots\")[0];\n\n      if (type === 'rotate') {\n        timer = setTimeout(rotatePlurid, 35, event, direction);\n      }\n\n      if (type === 'translate') {\n        timer = setTimeout(translatePlurid, 25, event, direction);\n      }\n\n      if (type === 'scale') {\n        timer = setTimeout(scalePlurid, 35, event, direction);\n      }\n    });\n    button.addEventListener(\"mouseup\", function (event) {\n      clearTimeout(timer);\n    });\n  }\n\n  let transformPlurid = pluridScene.meta.activePlurid ? container.getElementById(pluridScene.meta.activePlurid) : container.getElementsByTagName(\"plurid-roots\")[0];\n  let transformButtons = [{\n    type: \"rotate\",\n    direction: \"up\"\n  }, {\n    type: \"rotate\",\n    direction: \"down\"\n  }, {\n    type: \"rotate\",\n    direction: \"left\"\n  }, {\n    type: \"rotate\",\n    direction: \"right\"\n  }, {\n    type: \"translate\",\n    direction: \"up\"\n  }, {\n    type: \"translate\",\n    direction: \"down\"\n  }, {\n    type: \"translate\",\n    direction: \"left\"\n  }, {\n    type: \"translate\",\n    direction: \"right\"\n  }, {\n    type: \"scale\",\n    direction: \"up\"\n  }, {\n    type: \"scale\",\n    direction: \"down\"\n  }];\n  transformButtons.map(button => {\n    setTransformButton(transformPlurid, container, button.type, button.direction);\n  });\n}\n\nfunction centerEverything(container) {\n  let centerEverythingButton = container.getElementsByClassName('plurid-container-button-center-everything')[0];\n  centerEverythingButton.addEventListener('click', event => {\n    console.log('center everything');\n  });\n}\n\nfunction addAnotherRoot(container) {\n  let addAnotherRootButton = container.getElementsByClassName('plurid-container-button-add-root')[0];\n  addAnotherRootButton.addEventListener('click', event => {\n    // get extremities of the current pluridScene and add to the right/left\n    if (event.shiftKey) {\n      console.log('add root left');\n    } else {\n      console.log('add root right');\n    }\n  });\n}\n\nfunction moreOptions(container) {\n  let moreButton = container.getElementsByClassName('plurid-container-button-more')[0];\n  let moreContainer = container.getElementsByClassName('plurid-container-options-more')[0];\n  moreButton.addEventListener('click', event => {\n    if (moreContainer.style.display == \"\" || moreContainer.style.display == \"none\") {\n      moreButton.classList.add(\"plurid-sheet-control-active\");\n      moreContainer.style.display = \"block\";\n    } else {\n      moreButton.classList.remove(\"plurid-sheet-control-active\");\n      moreContainer.style.display = \"none\";\n    }\n  });\n}\n\nfunction lockTransforms(container) {\n  function setLocks(type, axis) {\n    let button = container.getElementsByClassName(`plurid-container-more-lock-${type}-${axis}`)[0];\n    button.addEventListener('click', event => {\n      console.log('lock', type, axis);\n    });\n  }\n\n  let locks = [{\n    type: \"rotation\",\n    axis: \"x\"\n  }, {\n    type: \"rotation\",\n    axis: \"y\"\n  }, {\n    type: \"translation\",\n    axis: \"x\"\n  }, {\n    type: \"translation\",\n    axis: \"y\"\n  }];\n  locks.map(button => {\n    setLocks(button.type, button.axis);\n  });\n}\n\nfunction scrollTransform(container) {\n  let button = container.getElementsByClassName('plurid-container-more-scroll-translate')[0];\n  button.addEventListener('click', event => {\n    console.log('scroll transform');\n  });\n}\n\nfunction transformSensitivity(container) {}\n\nfunction containerBackground(container) {\n  let button = container.getElementsByClassName('plurid-container-more-container-background')[0];\n  button.addEventListener('click', event => {\n    console.log('change container background');\n  });\n}\n\nfunction generalTheme(container) {\n  let button = container.getElementsByClassName('plurid-container-more-general-theme')[0];\n  button.addEventListener('click', event => {\n    let bodyClassList = document.body.classList;\n\n    for (const bodyClass of bodyClassList) {\n      if (bodyClass === \"plurid-theme-light\") {\n        bodyClassList.add('plurid-theme-night');\n        bodyClassList.remove('plurid-theme-light');\n      }\n\n      if (bodyClass === \"plurid-theme-night\") {\n        bodyClassList.add('plurid-theme-dusk');\n        bodyClassList.remove('plurid-theme-night');\n      }\n\n      if (bodyClass === \"plurid-theme-dusk\") {\n        bodyClassList.add('plurid-theme-dawn');\n        bodyClassList.remove('plurid-theme-dusk');\n      }\n\n      if (bodyClass === \"plurid-theme-dawn\") {\n        bodyClassList.add('plurid-theme-light');\n        bodyClassList.remove('plurid-theme-dawn');\n      }\n    }\n  });\n}\n\nfunction linkTransformNormal(container) {\n  let button = container.getElementsByClassName('plurid-container-more-link-click-transform')[0];\n  button.addEventListener('click', event => {\n    console.log('linkTransformNormal');\n  });\n}\n\nfunction parentOpacityAfterClick(container) {}\n\nfunction generalOpacityAfterDoubleClick(container) {}\n\nfunction shortcuts(container) {}\n\nfunction alwaysShowOptions(container) {\n  let button = container.getElementsByClassName('plurid-container-more-always-show-options')[0];\n  button.addEventListener('click', event => {\n    console.log('alwaysShowOptions');\n  });\n}\n\nfunction resetDefault(container) {}\n\n//# sourceURL=webpack:///./src/js/source/elements/options/options-core.js?");

/***/ }),

/***/ "./src/js/source/elements/options/options-define.js":
/*!**********************************************************!*\
  !*** ./src/js/source/elements/options/options-define.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initOptions = initOptions;\n\nvar _complex = __webpack_require__(/*! ../../core/utils/complex */ \"./src/js/source/core/utils/complex.js\");\n\nvar _optionsCore = __webpack_require__(/*! ./options-core */ \"./src/js/source/elements/options/options-core.js\");\n\nfunction initOptions(container) {\n  // TO DO\n  // define only if multiple plurid-containers\n  // if (container.id == 'plurid-container-1') {\n  customElements.define('plurid-options', PluridOptions); // }\n\n  (0, _optionsCore.renderOptions)(container);\n  (0, _optionsCore.displayOptions)(container);\n  (0, _optionsCore.setButtons)(container);\n}\n\nclass PluridOptions extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    (0, _complex.setId)(this, 'options');\n    this.innerHTML = (0, _optionsCore.contentOptions)();\n  }\n\n}\n\n//# sourceURL=webpack:///./src/js/source/elements/options/options-define.js?");

/***/ }),

/***/ "./src/js/source/elements/page/page-core.js":
/*!**************************************************!*\
  !*** ./src/js/source/elements/page/page-core.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n//# sourceURL=webpack:///./src/js/source/elements/page/page-core.js?");

/***/ }),

/***/ "./src/js/source/elements/page/page-define.js":
/*!****************************************************!*\
  !*** ./src/js/source/elements/page/page-define.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _pageCore = __webpack_require__(/*! ./page-core */ \"./src/js/source/elements/page/page-core.js\");\n\nclass PluridPage extends HTMLElement {\n  constructor() {\n    super(); // Count pages from the html document\n\n    pluridScene.meta.pages++;\n    let pageNo = pluridScene.meta.pages; // Set id based on page count\n    // e.g. plurid-page-23\n\n    this.id = `plurid-page-${pageNo}`;\n    let pageId = this.id; // Establish if the current plurid-page is a root page\n\n    let nodeName = this.parentNode.nodeName;\n\n    if (nodeName == 'BODY' || nodeName == 'PLURID-CONTAINER') {\n      pluridScene.meta.rootPages.push(pageId);\n    }\n  }\n\n  connectedCallback() {// console.log(this);\n    // setLink(this);\n  }\n\n  get name() {\n    return this.getAttribute('name');\n  }\n\n  set name(newName) {\n    this.setAttribute('name', newName);\n  }\n\n  get title() {\n    return this.getAttribute('title');\n  }\n\n  set title(newTitle) {\n    this.setAttribute('title', newTitle);\n  }\n\n}\n\ncustomElements.define('plurid-page', PluridPage);\n\n//# sourceURL=webpack:///./src/js/source/elements/page/page-define.js?");

/***/ }),

/***/ "./src/js/source/elements/root/root-define.js":
/*!****************************************************!*\
  !*** ./src/js/source/elements/root/root-define.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _complex = __webpack_require__(/*! ../../core/utils/complex */ \"./src/js/source/core/utils/complex.js\");\n\nclass PluridRoots extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    (0, _complex.setId)(this, 'roots');\n\n    if (this.id == 'plurid-roots-1') {\n      pluridScene.meta.activePlurid = 'plurid-roots-1';\n    }\n  }\n\n}\n\ncustomElements.define('plurid-roots', PluridRoots);\n\nclass PluridRoot extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    (0, _complex.setId)(this, 'root');\n  }\n\n}\n\ncustomElements.define('plurid-root', PluridRoot);\n\n//# sourceURL=webpack:///./src/js/source/elements/root/root-define.js?");

/***/ }),

/***/ "./src/js/source/elements/shadow/shadow-define.js":
/*!********************************************************!*\
  !*** ./src/js/source/elements/shadow/shadow-define.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _complex = __webpack_require__(/*! ../../core/utils/complex */ \"./src/js/source/core/utils/complex.js\");\n\nclass PluridShadow extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    let sheetIdNumber = (0, _complex.setId)(this, 'shadow');\n  }\n\n  get sheet() {\n    return this.getAttribute('sheet');\n  }\n\n  set sheet(newName) {\n    this.setAttribute('sheet', newName);\n  }\n\n}\n\ncustomElements.define('plurid-shadow', PluridShadow);\n\n//# sourceURL=webpack:///./src/js/source/elements/shadow/shadow-define.js?");

/***/ }),

/***/ "./src/js/source/elements/sheet/sheet-core.js":
/*!****************************************************!*\
  !*** ./src/js/source/elements/sheet/sheet-core.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSpecifiedParent = getSpecifiedParent;\nexports.setLink = setLink;\nexports.setAnchorTagsId = setAnchorTagsId;\nexports.setPluridRoots = setPluridRoots;\nexports.removeActiveSheetShadow = removeActiveSheetShadow;\nexports.addActiveSheetShadow = addActiveSheetShadow;\n\nvar _transformsCore = __webpack_require__(/*! ../../core/logic/transforms-core */ \"./src/js/source/core/logic/transforms-core.js\");\n\nvar transcore = _interopRequireWildcard(_transformsCore);\n\nvar _shadows = __webpack_require__(/*! ../../core/logic/shadows */ \"./src/js/source/core/logic/shadows.js\");\n\nvar _reflections = __webpack_require__(/*! ../../core/logic/reflections */ \"./src/js/source/core/logic/reflections.js\");\n\nvar _complex = __webpack_require__(/*! ../../core/utils/complex */ \"./src/js/source/core/utils/complex.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/**\n * Inserts newNode after the referenceNode.\n *\n * @param {HTMLElement} newNode\n * @param {HTMLElement} referenceNode\n */\nfunction insertAfter(newNode, referenceNode) {\n  referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n}\n/**\n * Checks recursively if the parents of the given pluridElement\n * have the nodeName 'PLURID-PAGE'.\n *\n * @param {object} pluridElement            Given <plurid-page> element.\n * @return {boolean}                        True if pluridElement should be a <plurid-root>.\n */\n\n\nfunction checkPluridParent(pluridElement) {\n  if (pluridElement.nodeName != 'HTML') {\n    if (pluridElement.parentElement.nodeName == 'PLURID-PAGE') {\n      // console.log('is NOT a plurid root');\n      return false;\n    } else {\n      return checkPluridParent(pluridElement.parentElement);\n    }\n  } else {\n    // console.log('is a plurid-root');\n    return true;\n  }\n}\n/**\n * Checks recursively if the parents of the given pluridElement\n * are the specifiedParent.\n *\n * @param {string} specifiedParent          HTMLElement.nodeName for a parent of the pluridElement.\n * @param {HTMLElement} pluridElement       plurid HTMLElement.\n * @return {HTMLElement}                    The specified parent element.\n */\n\n\nfunction getSpecifiedParent(pluridElement, specifiedParent) {\n  if (pluridElement.nodeName != 'HTML') {\n    if (pluridElement.parentElement.nodeName == specifiedParent) {\n      return pluridElement.parentElement;\n    } else {\n      return getSpecifiedParent(pluridElement.parentElement, specifiedParent);\n    }\n  }\n}\n/**\n * Search recursively for children of children,\n * check if id matches,\n * push the sceneObject where it matches.\n *\n * @param {Array} childrenArray\n * @param {Object} sceneObject\n */\n\n\nfunction pushChildren(childrenArray, sceneObject) {\n  for (let child of childrenArray) {\n    if (child.branchId == sceneObject.linkParentId) {\n      child.children.push(sceneObject);\n    } else {\n      pushChildren(child.children, sceneObject);\n    }\n  }\n}\n/**\n * Sends the XHR request given on the pluridLink page/href,\n * creates the plurid structure from the response,\n * renders the plurid element\n *\n *\n * @param {HTMLElement} pluridLink       plurid HTMLElement.\n */\n\n\nfunction setPluridLinks(pluridLink) {\n  let xhttp = new XMLHttpRequest();\n\n  xhttp.onreadystatechange = function () {\n    if (this.readyState == 4 && this.status == 200) {\n      let parser = new DOMParser();\n      let doc = parser.parseFromString(this.responseText, \"text/html\");\n      let newBranch = document.createElement(\"plurid-branch\");\n      newBranch.innerHTML = `\n                                    <plurid-bridge></plurid-bridge>\n\n                                    <plurid-scion>\n                                        <plurid-sheet>\n                                            <plurid-content>\n                                                ${doc.body.innerHTML}\n                                                </plurid-content>\n                                        </plurid-sheet>\n                                    </plurid-scion>\n                                `;\n      newBranch.link = pluridLink.id;\n      (0, _complex.setId)(newBranch, 'branch');\n      let right = pluridLink.offsetLeft + pluridLink.offsetWidth;\n      let top = pluridLink.offsetTop; // console.log('pluridLink right -- X', right);\n      // console.log('pluridLink top ---- Y', top);\n\n      let pluridRoot = getSpecifiedParent(pluridLink, 'PLURID-ROOT');\n      let pluridSheet = getSpecifiedParent(pluridLink, 'PLURID-SHEET');\n      let pluridBranch = getSpecifiedParent(pluridLink, 'PLURID-BRANCH'); // console.log('link', pluridLink);\n      // console.log('root', pluridRoot);\n      // console.log('sheet', pluridSheet);\n      // console.log('branch', pluridBranch);\n\n      let angleDeg = 90;\n      let angleBranch;\n      let branchBridge;\n      let bridgeWidth;\n\n      if (pluridBranch) {\n        angleBranch = transcore.getTransformRotate(pluridBranch).rotateY;\n        angleBranch = angleBranch * 180 / Math.PI;\n        branchBridge = pluridBranch.children[0];\n        bridgeWidth = parseInt(branchBridge.style.width) || 100;\n      } // console.log(angleBranch);\n\n\n      let linkParentId = pluridBranch ? pluridBranch.id : pluridSheet.id; // console.log(linkParentId, 'is the parent of', newBranch.id);\n\n      let parentBranch = pluridScene.getBranchById(linkParentId); // console.log('the parentBranch is ', parentBranch);\n      // console.log(bridgeWidth);\n\n      let bridgeLength = bridgeWidth || 100;\n      let parentAngleY = parentBranch ? parentBranch.coordinates.angleY : 0; // console.log('parentAngleY % 360', parentAngleY % 360)\n\n      parentAngleY = parentAngleY % 360; // console.log('parentAngleY', parentAngleY)\n\n      let quadrant = getQuadrant(parentAngleY);\n      let quadrantCoefficients = getQuadrantCoefficients(quadrant);\n      let quadrantCoefX = quadrantCoefficients.X;\n      let quadrantCoefZ = quadrantCoefficients.Z; // console.log('parent quadrant', quadrant);\n      // console.log('quadrantCoefX', quadrantCoefX);\n      // console.log('quadrantCoefZ', quadrantCoefZ);\n\n      let rotXbranch = angleDeg;\n      let prevLinkX;\n      let prevLinkY;\n      let prevTransX;\n      let prevTransY;\n      let prevTransZ;\n\n      if (parentBranch) {\n        // console.log('parentBranch', parentBranch);\n        prevLinkX = parentBranch.coordinates.linkX;\n        prevLinkY = parentBranch.coordinates.linkY;\n        prevTransX = parentBranch.coordinates.transX;\n        prevTransY = parentBranch.coordinates.transY ? parentBranch.coordinates.transY : parentBranch.coordinates.linkY;\n        prevTransZ = parentBranch.coordinates.transZ;\n      }\n\n      let clickTransX = right;\n      let clickTransY = top; // console.log('prevTransX', prevTransX);\n      // console.log('prevTransY', prevTransY);\n      // console.log('prevTransZ', prevTransZ);\n      // console.log('clickTransX', clickTransX);\n      // console.log('clickTransY', clickTransY);\n\n      let path = generatePath(newBranch.id, linkParentId); // console.log('path', path);\n\n      let translationData = {\n        prevLinkX: prevLinkX,\n        prevLinkY: prevLinkY,\n        prevTransX: prevTransX,\n        prevTransY: prevTransY,\n        prevTransZ: prevTransZ,\n        clickTransX: clickTransX,\n        clickTransY: clickTransY,\n        bridgeLength: bridgeLength,\n        quadrant: quadrant,\n        quadrantCoefX: quadrantCoefX,\n        quadrantCoefZ: quadrantCoefZ,\n        rotXbranch: rotXbranch,\n        path: path\n      };\n      let translations = getTranslations(translationData);\n      let transX = translations.X;\n      let transY = translations.Y;\n      let transZ = translations.Z; // console.log('transX', transX);\n      // console.log('transY', transY);\n      // console.log('transZ', transZ);\n      // console.log('-----');\n\n      if (angleBranch != undefined) {\n        angleBranch = angleBranch + 90;\n        newBranch.style.transform = `translateX(${transX}px) translateY(${transY}px) translateZ(${transZ}px) rotateX(0deg) rotateY(${angleBranch}deg) rotateZ(0deg) scale(1)`;\n      } else {\n        newBranch.style.transform = `translateX(${right}px) translateY(${top}px) translateZ(0px) rotateX(0deg) rotateY(${angleDeg}deg) rotateZ(0deg) scale(1)`;\n      }\n\n      let lastChild = pluridRoot.lastChild;\n      insertAfter(newBranch, lastChild);\n      let angleRotY = angleBranch ? angleBranch : angleDeg;\n      let branchSheet = newBranch.getElementsByTagName('plurid-sheet')[0]; // let pluridShadow = document.createElement('plurid-shadow');\n      // lastChild = pluridRoot.lastChild;\n      // insertAfter(pluridShadow, lastChild);\n      // pluridShadow.sheet = branchSheet.id;\n      // // console.log('--------');\n      // // console.log(branchSheet.offsetHeight);\n\n      let computedShadowHeight = 500; // pluridShadow.style.height = computedShadowHeight + \"px\";\n\n      let branchSheetHeight = branchSheet.offsetHeight;\n      let branchSheetWidth = branchSheet.offsetWidth; // // console.log('branchSheetWidth', branchSheetWidth);\n      // pluridShadow.style.width = branchSheetWidth + \"px\";\n\n      let ground = pluridScene.meta.ground; // console.log(ground);\n      // if (branchSheetHeight > ground) {\n      //     pluridScene.meta.ground = branchSheetHeight - computedShadowHeight;\n      //     ground = pluridScene.meta.ground;\n      // }\n      // pluridShadow.style.transform = `translateX(0px) translateY(0px) translateZ(0px) rotateX(90deg) rotateY(0deg) rotateZ(90deg) scale(1) skew(0deg)`;\n\n      let reflectionY = transY ? transY : top;\n      let reflections = pluridScene.meta.reflections;\n\n      if (reflections === true) {\n        (0, _reflections.setReflections)(branchSheet, branchSheetHeight, ground, reflectionY);\n      }\n\n      let sceneObject = {\n        linkParentId: linkParentId,\n        link: newBranch.link,\n        branchId: newBranch.id,\n        sheetId: branchSheet.id,\n        coordinates: {\n          prevLinkX: prevLinkX,\n          prevLinkY: prevLinkY,\n          linkX: right,\n          linkY: top,\n          prevTransX: prevTransX,\n          prevTransY: prevTransY,\n          prevTransZ: prevTransZ,\n          transX: transX,\n          transY: transY,\n          transZ: transZ,\n          angleY: angleRotY\n        },\n        children: [],\n        path: path\n      };\n\n      for (let rootScene of pluridScene.content) {\n        if (rootScene.id == pluridRoot.id) {\n          if (sceneObject.linkParentId.includes('branch')) {\n            pushChildren(rootScene.children, sceneObject);\n          } else {\n            rootScene.children.push(sceneObject);\n          }\n        }\n      }\n    }\n  };\n\n  let href = '';\n\n  if (pluridLink.page) {\n    href = pluridLink.page;\n  } else {\n    href = pluridLink.href;\n  }\n\n  xhttp.open(\"GET\", href, true);\n  xhttp.setRequestHeader(\"Cache-Control\", \"no-cache\");\n  xhttp.setRequestHeader(\"Pragma\", \"no-cache\");\n  xhttp.send();\n}\n/**\n * For all the anchorTags <a> and pluridLinks <plurid-link>\n * adds event listeners on click to generate the plurid structure.\n */\n\n\nfunction setLink(pluridPage) {\n  let pluridPageId = pluridPage.id;\n  let pageAnchorTags = document.querySelectorAll(`#${pluridPageId} a`);\n  let pagePluridLinks = document.querySelectorAll(`#${pluridPageId} plurid-link`);\n\n  for (let anchorTag of pageAnchorTags) {\n    anchorTag.addEventListener('click', event => {\n      event.preventDefault();\n\n      if (!checkBranchExistence(anchorTag.id)) {\n        setPluridLinks(anchorTag);\n      } else {// TODO\n        // translate into view of the new plurid-branch\n        // console.log('anchorTag already set');\n      }\n\n      ;\n    });\n  }\n\n  for (let pluridLink of pagePluridLinks) {\n    pluridLink.addEventListener('click', () => {\n      if (!checkBranchExistence(pluridLink.id)) {\n        setPluridLinks(pluridLink);\n      } else {// TODO\n        // translate into view of the new plurid-branch\n        // console.log('pluridLink already set');\n      }\n\n      ;\n    });\n  }\n}\n/**\n * Checks recursively if the parents of the given pluridElement\n * are the specifiedParent.\n *\n * @param {string} specifiedParent          HTMLElement.nodeName for a parent of the pluridElement.\n * @param {HTMLElement} pluridElement       plurid HTMLElement.\n * @return {HTMLElement}                    The specified parent element.\n */\n\n\nfunction checkBranchExistence(linkId) {\n  let branches = document.getElementsByTagName('plurid-branch');\n  let count = 0;\n\n  for (let branch of branches) {\n    if (branch.link == linkId) {\n      count++;\n\n      if (count >= 1) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n/**\n * Sets the id on all the <a> anchor tags within a certain <plurid-sheet>\n *\n * @param {string} sheetId          Id of a <plurid-sheet>\n */\n\n\nfunction setAnchorTagsId(sheetId) {\n  let pageAnchorTags = document.querySelectorAll(`#${sheetId} a`);\n\n  for (let anchorTag of pageAnchorTags) {\n    (0, _complex.setId)(anchorTag, 'anchor');\n  }\n}\n/**\n * Pushes the current <plurid-sheet> to pluridScene global\n * if element is direct child of <plurid-root>.\n *\n * @param {HTMLElement} pluridSheet\n */\n\n\nfunction setPluridRoots(pluridSheet) {\n  if (pluridSheet.parentElement.nodeName == 'PLURID-ROOT') {\n    let sheet = {\n      id: pluridSheet.parentElement.id,\n      sheetId: pluridSheet.id,\n      meta: [],\n      children: []\n    };\n    pluridScene.meta.rootSheets.push(pluridSheet.id);\n    pluridScene.content.push(sheet);\n  }\n}\n/**\n * Based on angle returns the specific quadrant.\n *\n * @param {number} angle        Angle value between 0 and 360 degrees.\n * @return {string}\n */\n\n\nfunction getQuadrant(angle) {\n  let quadrant;\n\n  if (angle >= 0 && angle <= 90) {\n    return quadrant = 'quadrantA';\n  }\n\n  if (angle > 90 && angle <= 180) {\n    return quadrant = 'quadrantB';\n  }\n\n  if (angle > 180 && angle <= 270) {\n    return quadrant = 'quadrantC';\n  }\n\n  if (angle > 270 && angle <= 360) {\n    return quadrant = 'quadrantD';\n  }\n}\n/**\n * Based on quadrant returns the specific quadrant coefficients.\n *\n * @param {string} quadrant\n * @return {object}\n */\n\n\nfunction getQuadrantCoefficients(quadrant) {\n  let quadrantCoefficientX;\n  let quadrantCoefficientZ;\n\n  switch (quadrant) {\n    case 'quadrantA':\n      quadrantCoefficientX = 1;\n      quadrantCoefficientZ = -1;\n      break;\n\n    case 'quadrantB':\n      quadrantCoefficientX = 1;\n      quadrantCoefficientZ = -1;\n      break;\n\n    case 'quadrantC':\n      quadrantCoefficientX = 1;\n      quadrantCoefficientZ = -1;\n      break;\n\n    case 'quadrantD':\n      quadrantCoefficientX = 1;\n      quadrantCoefficientZ = -1;\n      break;\n  }\n\n  return {\n    X: quadrantCoefficientX,\n    Z: quadrantCoefficientZ\n  };\n}\n/**\n * Based on the parent branch with the linkParentId\n * of the branch with currentId, obtain the path\n * to the current branch.\n *\n * @param {string} currentId\n * @param {string} linkParentId\n * @return {Array}\n */\n\n\nfunction generatePath(currentId, linkParentId) {\n  let parent = pluridScene.getBranchById(linkParentId);\n\n  if (parent) {\n    let path = [];\n    let parentPath = parent.path;\n\n    for (let pathElement of parentPath) {\n      let pluridElement = pluridScene.getBranchById(pathElement);\n\n      if (pluridElement.linkParentId != linkParentId) {\n        path.push(pathElement);\n      }\n    }\n\n    path.push(currentId);\n    return path;\n  } else {\n    return [currentId];\n  }\n}\n/**\n * Calculate translations based on the translationData\n *\n * @param {Object} translationData\n * @return {Object}\n */\n\n\nfunction getTranslations(translationData) {\n  let prevLinkX = translationData.prevLinkX;\n  let prevLinkY = translationData.prevLinkY;\n  let prevTransX = translationData.prevTransX;\n  let prevTransY = translationData.prevTransY;\n  let prevTransZ = translationData.prevTransZ;\n  let clickTransX = translationData.clickTransX;\n  let clickTransY = translationData.clickTransY;\n  let bridgeLength = translationData.bridgeLength;\n  let quadrant = translationData.quadrant;\n  let quadrantCoefX = translationData.quadrantCoefX;\n  let quadrantCoefZ = translationData.quadrantCoefZ;\n  let rotXbranch = translationData.rotXbranch;\n  let path = translationData.path;\n  let penultimateRoot;\n  let penultimateRootTransX;\n  let penultimateRootTransZ;\n  let penultimateRootAngleY;\n  let penultimateRootAngleYRad;\n  let penultimate = path.length - 2;\n  let transX;\n  let transY;\n  let transZ;\n\n  if (penultimate > 0) {\n    penultimateRoot = pluridScene.getBranchById(path[penultimate]);\n    penultimateRootAngleY = penultimateRoot.coordinates.angleY; // console.log(penultimateRootAngleY);\n\n    penultimateRootAngleYRad = penultimateRootAngleY * Math.PI / 180;\n    penultimateRootTransX = penultimateRoot.coordinates.transX;\n    penultimateRootTransZ = penultimateRoot.coordinates.transZ;\n  }\n\n  if (path.length == 2) {\n    transX = quadrantCoefX * (prevLinkX + (clickTransX + bridgeLength) * Math.cos(rotXbranch * Math.PI / 180));\n    transZ = quadrantCoefZ * (clickTransX + bridgeLength) * Math.sin(rotXbranch * Math.PI / 180); // console.log('PATH LENGTH', path.length);\n  }\n\n  if (path.length > 2) {\n    transX = prevTransX + Math.cos(penultimateRootAngleYRad) * (clickTransX + bridgeLength);\n    transZ = prevTransZ - Math.sin(penultimateRootAngleYRad) * (clickTransX + bridgeLength); // console.log('PATH LENGTH', path.length);\n  }\n\n  transY = prevTransY + clickTransY;\n  return {\n    X: transX,\n    Y: transY,\n    Z: transZ\n  };\n}\n/**\n * Sets eventListener on window to detect active sheet.\n */\n\n\nfunction setActiveSheetListener() {\n  window.addEventListener('click', event => {\n    // cross-browsers eventPath\n    let eventPath = event.path || event.composedPath && event.composedPath();\n    setActiveSheet(eventPath);\n  });\n}\n\nsetActiveSheetListener();\n/**\n * Set active sheet logic\n */\n\nfunction setActiveSheet(eventPath) {\n  let activeSheet = pluridScene.meta.activeSheet;\n  let currentSheet = checkSheet(eventPath);\n\n  if (currentSheet) {\n    if (currentSheet != activeSheet) {\n      pluridScene.meta.previousActiveSheet = pluridScene.meta.activeSheet;\n      pluridScene.meta.activeSheet = currentSheet;\n      removeActiveSheetShadow(pluridScene.meta.previousActiveSheet, 'plurid-sheet-active-transform');\n      removeActiveSheetShadow(pluridScene.meta.previousActiveSheet, 'plurid-sheet-active');\n      addActiveSheetShadow(pluridScene.meta.activeSheet, 'plurid-sheet-active');\n    }\n  }\n}\n/**\n * Checks if the path contains a <plurid-sheet> element\n *\n * @param {Array} path\n * @return {string}\n */\n\n\nfunction checkSheet(path) {\n  for (let pathElement of path) {\n    if (pathElement.nodeName == 'PLURID-SHEET') {\n      return pathElement.id;\n    }\n  }\n}\n/**\n * Remove CSS class .plurid-sheet-active.\n *\n * @param {string} sheetId\n */\n\n\nfunction removeActiveSheetShadow(sheetId, activeSheetClass) {\n  let sheet = document.getElementById(sheetId);\n\n  if (sheet) {\n    sheet.classList.remove(activeSheetClass);\n  }\n}\n/**\n * Add CSS class .plurid-sheet-active.\n *\n * @param {string} sheetId\n */\n\n\nfunction addActiveSheetShadow(sheetId, activeSheetClass) {\n  let sheet = document.getElementById(sheetId);\n\n  if (sheet) {\n    sheet.classList.add(activeSheetClass);\n  }\n}\n\n//# sourceURL=webpack:///./src/js/source/elements/sheet/sheet-core.js?");

/***/ }),

/***/ "./src/js/source/elements/sheet/sheet-define.js":
/*!******************************************************!*\
  !*** ./src/js/source/elements/sheet/sheet-define.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _controlsDefine = __webpack_require__(/*! ../controls/controls-define */ \"./src/js/source/elements/controls/controls-define.js\");\n\nvar _controlsCore = __webpack_require__(/*! ../controls/controls-core */ \"./src/js/source/elements/controls/controls-core.js\");\n\nvar _sheetCore = __webpack_require__(/*! ../sheet/sheet-core */ \"./src/js/source/elements/sheet/sheet-core.js\");\n\nvar _complex = __webpack_require__(/*! ../../core/utils/complex */ \"./src/js/source/core/utils/complex.js\");\n\nclass PluridSheet extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    let sheetIdNumber = (0, _complex.setId)(this, 'sheet');\n\n    if (sheetIdNumber == 1) {\n      (0, _controlsDefine.initControls)();\n    }\n\n    (0, _controlsCore.renderControls)(this, sheetIdNumber);\n    (0, _sheetCore.setLink)(this);\n    (0, _sheetCore.setAnchorTagsId)(this.id);\n    (0, _sheetCore.setPluridRoots)(this);\n  }\n\n  get name() {\n    return this.getAttribute('name');\n  }\n\n  set name(newName) {\n    this.setAttribute('name', newName);\n  }\n\n  get visible() {\n    return this.getAttribute('visible');\n  }\n\n  set visible(newVisible) {\n    this.setAttribute('visible', newVisible);\n  }\n\n}\n\ncustomElements.define('plurid-sheet', PluridSheet);\n\nclass PluridSheetDouble extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-sheet-double', PluridSheetDouble);\n\nclass PluridSheetDoubleFront extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-sheet-double-front', PluridSheetDoubleFront);\n\nclass PluridSheetDoubleBack extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-sheet-double-back', PluridSheetDoubleBack);\n\n//# sourceURL=webpack:///./src/js/source/elements/sheet/sheet-define.js?");

/***/ }),

/***/ "./src/js/source/elements/solid/solid-define.js":
/*!******************************************************!*\
  !*** ./src/js/source/elements/solid/solid-define.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nclass PluridSolid extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-solid', PluridSolid);\n\nclass PluridSolidFront extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-solid-front', PluridSolidFront);\n\nclass PluridSolidBack extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-solid-back', PluridSolidBack);\n\nclass PluridSolidTop extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-solid-top', PluridSolidTop);\n\nclass PluridSolidBottom extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-solid-bottom', PluridSolidBottom);\n\nclass PluridSolidRight extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-solid-right', PluridSolidRight);\n\nclass PluridSolidLeft extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\ncustomElements.define('plurid-solid-left', PluridSolidLeft);\n\n//# sourceURL=webpack:///./src/js/source/elements/solid/solid-define.js?");

/***/ }),

/***/ "./src/js/source/elements/space/space-define.js":
/*!******************************************************!*\
  !*** ./src/js/source/elements/space/space-define.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nclass PluridSpace extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {// let sheetIdNumber = setId(this, 'sheet');\n  }\n\n}\n\ncustomElements.define('plurid-space', PluridSpace);\n\n//# sourceURL=webpack:///./src/js/source/elements/space/space-define.js?");

/***/ }),

/***/ "./src/js/source/elements/viewcube/viewcube-core.js":
/*!**********************************************************!*\
  !*** ./src/js/source/elements/viewcube/viewcube-core.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderViewcube = renderViewcube;\nexports.contentViewcube = contentViewcube;\nexports.rotateViewcube = rotateViewcube;\nexports.initViewcubeModelButtons = initViewcubeModelButtons;\n\nvar _transformsCore = __webpack_require__(/*! ../../core/logic/transforms-core.js */ \"./src/js/source/core/logic/transforms-core.js\");\n\nvar transcore = _interopRequireWildcard(_transformsCore);\n\nvar _matrix = __webpack_require__(/*! ../../core/logic/matrix.js */ \"./src/js/source/core/logic/matrix.js\");\n\nvar matrix = _interopRequireWildcard(_matrix);\n\nvar _simple = __webpack_require__(/*! ../../core/utils/simple */ \"./src/js/source/core/utils/simple.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction renderViewcube(container) {\n  const viewcube = document.createElement(\"plurid-viewcube\");\n  container.appendChild(viewcube);\n}\n\nfunction contentViewcube(container) {\n  return `\n        <div class=\"plurid-viewcube-container\">\n            <div class=\"plurid-viewcube-controls plurid-viewcube-scale-container\">\n                <input type=\"range\">\n            </div>\n\n            <div class=\"plurid-viewcube-controls plurid-viewcube-rotate-left-container\">\n                <div class=\"plurid-viewcube-button\">\n                    &#x25c0&#xFE0E;\n                </div>\n            </div>\n\n            <div class=\"plurid-viewcube-controls plurid-viewcube-rotate-right-container\">\n                <div class=\"plurid-viewcube-button\">\n                    &#x25b6&#xFE0E;\n                </div>\n            </div>\n\n            <div class=\"plurid-viewcube-controls plurid-viewcube-rotate-up-container\">\n                <div class=\"plurid-viewcube-button\">\n                    &#x25B2;\n                </div>\n            </div>\n\n            <div class=\"plurid-viewcube-controls plurid-viewcube-rotate-down-container\">\n                <div class=\"plurid-viewcube-button\">\n                    &#x25BC;\n                </div>\n            </div>\n\n            <div class=\"plurid-viewcube-model-container\">\n                <div class=\"plurid-viewcube-model-transform-container\">\n                    <div class=\"plurid-viewcube-model-transform-cube\">\n                        <div class=\"plurid-viewcube-model-transform-face plurid-viewcube-model-transform-front\">\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-left plurid-viewcube-model-transform-front-top-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-center plurid-viewcube-model-transform-front-top-center\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-right plurid-viewcube-model-transform-front-top-right\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-left plurid-viewcube-model-transform-front-middle-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-center plurid-viewcube-model-transform-front-middle-center\">\n                                <div class=\"plurid-viewcube-model-transform-face-text\">\n                                    Front\n                                </div>\n                            </div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-right plurid-viewcube-model-transform-front-middle-right\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-left plurid-viewcube-model-transform-front-bottom-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-center plurid-viewcube-model-transform-front-bottom-center\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-right plurid-viewcube-model-transform-front-bottom-right\"></div>\n                        </div>\n\n                        <div class=\"plurid-viewcube-model-transform-face plurid-viewcube-model-transform-left\">\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-left plurid-viewcube-model-transform-left-top-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-center plurid-viewcube-model-transform-left-top-center\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-right plurid-viewcube-model-transform-left-top-right\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-left plurid-viewcube-model-transform-left-middle-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-center plurid-viewcube-model-transform-left-middle-center\">\n                                <div class=\"plurid-viewcube-model-transform-face-text\">\n                                    Left\n                                </div>\n                            </div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-right plurid-viewcube-model-transform-left-middle-right\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-left plurid-viewcube-model-transform-left-bottom-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-center plurid-viewcube-model-transform-left-bottom-center\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-right plurid-viewcube-model-transform-left-bottom-right\"></div>\n                        </div>\n\n                        <div class=\"plurid-viewcube-model-transform-face plurid-viewcube-model-transform-back\">\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-left plurid-viewcube-model-transform-back-top-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-center plurid-viewcube-model-transform-back-top-center\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-right plurid-viewcube-model-transform-back-top-right\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-left plurid-viewcube-model-transform-back-middle-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-center plurid-viewcube-model-transform-back-middle-center\">\n                                <div class=\"plurid-viewcube-model-transform-face-text\">\n                                    Back\n                                </div>\n                            </div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-right plurid-viewcube-model-transform-back-middle-right\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-left plurid-viewcube-model-transform-back-bottom-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-center plurid-viewcube-model-transform-back-bottom-center\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-right plurid-viewcube-model-transform-back-bottom-right\"></div>\n                        </div>\n\n                        <div class=\"plurid-viewcube-model-transform-face plurid-viewcube-model-transform-right\">\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-left plurid-viewcube-model-transform-right-top-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-center plurid-viewcube-model-transform-right-top-center\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-right plurid-viewcube-model-transform-right-top-right\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-left plurid-viewcube-model-transform-right-middle-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-center plurid-viewcube-model-transform-right-middle-center\">\n                                <div class=\"plurid-viewcube-model-transform-face-text\">\n                                    Right\n                                </div>\n                            </div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-right plurid-viewcube-model-transform-right-middle-right\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-left plurid-viewcube-model-transform-right-bottom-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-center plurid-viewcube-model-transform-right-bottom-center\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-right plurid-viewcube-model-transform-right-bottom-right\"></div>\n                        </div>\n\n                        <div class=\"plurid-viewcube-model-transform-face plurid-viewcube-model-transform-top\">\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-left plurid-viewcube-model-transform-top-top-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-center plurid-viewcube-model-transform-top-top-center\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-right plurid-viewcube-model-transform-top-top-right\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-left plurid-viewcube-model-transform-top-middle-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-center plurid-viewcube-model-transform-top-middle-center\">\n                                <div class=\"plurid-viewcube-model-transform-face-text\">\n                                    Top\n                                </div>\n                            </div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-right plurid-viewcube-model-transform-top-middle-right\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-left plurid-viewcube-model-transform-top-bottom-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-center plurid-viewcube-model-transform-top-bottom-center\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-right plurid-viewcube-model-transform-top-bottom-right\"></div>\n                        </div>\n\n                        <div class=\"plurid-viewcube-model-transform-face plurid-viewcube-model-transform-base\">\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-left plurid-viewcube-model-transform-base-top-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-center plurid-viewcube-model-transform-base-top-center\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-top-right plurid-viewcube-model-transform-base-top-right\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-left plurid-viewcube-model-transform-base-middle-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-center plurid-viewcube-model-transform-base-middle-center\">\n                                <div class=\"plurid-viewcube-model-transform-face-text\">\n                                    Base\n                                </div>\n                            </div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-middle-right plurid-viewcube-model-transform-base-middle-right\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-left plurid-viewcube-model-transform-base-bottom-left\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-center plurid-viewcube-model-transform-base-bottom-center\"></div>\n                            <div class=\"plurid-viewcube-model-transform-face-zone plurid-viewcube-model-transform-bottom-right plurid-viewcube-model-transform-base-bottom-right\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"plurid-viewcube-controls plurid-viewcube-translate-y-container\">\n                <input type=\"range\" orient=\"vertical\">\n            </div>\n\n            <div class=\"plurid-viewcube-controls plurid-viewcube-translate-x-container\">\n                <input type=\"range\">\n            </div>\n\n            <div class=\"plurid-viewcube-controls plurid-viewcube-fitview-container\">\n                <div class=\"plurid-viewcube-button\">\n                    &#8281;\n                </div>\n            </div>\n        </div>\n    `;\n}\n\nfunction rotateViewcube(event, plurid, rotateX, rotateY) {\n  // let rotateX = getTransformRotate(plurid).rotateX;\n  // let rotateY = getTransformRotate(plurid).rotateY;\n  // let rotateXdeg = rotateX * 180 / Math.PI;\n  // let rotateYdeg = rotateY * 180 / Math.PI;\n  if (previousButtons) {\n    for (let previousButton of previousButtons) {\n      previousButton.classList.remove('plurid-viewcube-model-transform-face-selected');\n    }\n  }\n\n  let viewCube = document.getElementsByClassName('plurid-viewcube-model-transform-cube')[0]; // viewCube.style.transform = `translateX(32px) translateY(23px) rotateX(${rotateXdeg}deg) rotateY(${rotateYdeg}deg)`;\n\n  viewCube.style.transform = `translateX(32px) translateY(23px) rotateX(${-1 * rotateX}deg) rotateY(${-1 * rotateY}deg)`;\n}\n\nfunction setModelZoneButtons(buttons, viewZone) {\n  const viewZoneSwitch = _viewZone => ({\n    'front-middle-center': {\n      rotateX: 0,\n      rotateY: 0\n    },\n    'front-top-left': {\n      rotateX: -45,\n      rotateY: 45\n    },\n    'front-top-center': {\n      rotateX: -45,\n      rotateY: 0\n    },\n    'right-top-left': {\n      rotateX: -45,\n      rotateY: -45\n    },\n    'front-middle-left': {\n      rotateX: 0,\n      rotateY: 45\n    },\n    'right-middle-left': {\n      rotateX: 0,\n      rotateY: 315\n    },\n    'front-bottom-left': {\n      rotateX: 45,\n      rotateY: 45\n    },\n    'front-bottom-center': {\n      rotateX: 45,\n      rotateY: 0\n    },\n    'right-bottom-left': {\n      rotateX: 45,\n      rotateY: -45\n    },\n    'left-middle-center': {\n      rotateX: 0,\n      rotateY: 90\n    },\n    'left-top-left': {\n      rotateX: -45,\n      rotateY: 135\n    },\n    'left-top-center': {\n      rotateX: -45,\n      rotateY: 90\n    },\n    'left-middle-left': {\n      rotateX: 0,\n      rotateY: 135\n    },\n    'left-bottom-left': {\n      rotateX: 45,\n      rotateY: 135\n    },\n    'left-bottom-center': {\n      rotateX: 45,\n      rotateY: 90\n    },\n    'back-middle-center': {\n      rotateX: 0,\n      rotateY: 180\n    },\n    'back-top-left': {\n      rotateX: -45,\n      rotateY: 225\n    },\n    'back-top-center': {\n      rotateX: -45,\n      rotateY: 180\n    },\n    'back-middle-left': {\n      rotateX: 0,\n      rotateY: 225\n    },\n    'back-bottom-left': {\n      rotateX: 45,\n      rotateY: 225\n    },\n    'back-bottom-center': {\n      rotateX: 45,\n      rotateY: 180\n    },\n    'right-middle-center': {\n      rotateX: 0,\n      rotateY: 270\n    },\n    'right-top-center': {\n      rotateX: -45,\n      rotateY: 270\n    },\n    'right-bottom-center': {\n      rotateX: 45,\n      rotateY: 270\n    },\n    'top-middle-center': {\n      rotateX: -90,\n      rotateY: 0\n    },\n    'base-middle-center': {\n      rotateX: 90,\n      rotateY: 0\n    }\n  })[_viewZone];\n\n  function position(transform) {\n    let pluridRoots = document.getElementsByTagName('plurid-roots')[0];\n    let viewCube = document.getElementsByClassName('plurid-viewcube-model-transform-cube')[0];\n    let rotationDeviation = 0.06;\n    let rotateX = transform.rotateX + rotationDeviation;\n    let rotateY = transform.rotateY + rotationDeviation;\n    let translateX = transcore.getTransformTranslate(pluridRoots).translateX;\n    let translateY = transcore.getTransformTranslate(pluridRoots).translateY;\n    let translateZ = 0;\n    let scale = transcore.getTransformScale(pluridRoots).scale;\n    let valRotationMatrix = matrix.rotateMatrix(-1 * rotateX, -1 * rotateY); // let valrotationXMatrix = matrix.rotateXMatrix(-1 * rotateX);\n    // let valrotationYMatrix = matrix.rotateYMatrix(-1 * rotateY);\n\n    let valtranslationMatrix = matrix.translateMatrix(translateX, translateY, 0);\n    let valscaleMatrix = matrix.scaleMatrix(scale);\n    let yPos = transcore.getyPos(null, pluridRoots); // transform = transform <= 180 ? transform : transform + 360;\n    // let rotateY = getTransformRotate(viewCube).rotateY;\n    // let rotateYdeg = rotateY * 180 / Math.PI;\n    // let angle = (rotateY + transform) <= 180 ? transform : 360 + transform;\n    // console.log('rotateYdeg', rotateYdeg);\n    // console.log('transform', transform);\n    // console.log('angle', angle);\n\n    pluridRoots.style.transition = \"transform 300ms\";\n    transcore.setTransform(pluridRoots, valRotationMatrix, valtranslationMatrix, valscaleMatrix, yPos);\n    viewCube.style.transition = \"transform 300ms\";\n\n    if (rotateX != 0) {\n      viewCube.style.transform = `translateX(32px) translateY(23px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n    } else {\n      viewCube.style.transform = `translateX(32px) translateY(23px) rotateY(${rotateY}deg)`;\n    }\n\n    setTimeout(() => {\n      viewCube.style.transition = \"\";\n      pluridRoots.style.transition = \"\";\n    }, 300); // function rotateThis(el, nR) {\n    //     rot = rot || 0; // if rot undefined or 0, make 0, else rot\n    //     let aR = rot % 360;\n    //     if ( aR < 0 ) { aR += 360; }\n    //     if ( aR < 180 && (nR > (aR + 180)) ) { rot -= 360; }\n    //     if ( aR >= 180 && (nR <= (aR - 180)) ) { rot += 360; }\n    //     rot += (nR - aR);\n    //     // element.style.transform = (\"rotate( \" + rot + \"deg )\");\n    //     el.style.transition = \"transform 300ms\";\n    //     el.style.transform = `translateX(23px) translateY(16px) rotateY(${rot}deg)`;\n    //     setTimeout(() => {\n    //         el.style.transition = \"\";\n    //     }, 300);\n    // }\n    // rotateThis(viewCube, transform);\n    // console.log(transform);\n\n    console.log(previousButtons);\n\n    if (previousButtons) {\n      for (let previousButton of previousButtons) {\n        previousButton.classList.remove('plurid-viewcube-model-transform-face-selected');\n      }\n    }\n\n    for (let button of buttons) {\n      button.classList.add('plurid-viewcube-model-transform-face-selected');\n    }\n\n    previousButtons = buttons;\n  }\n\n  buttons.map(button => {\n    button.addEventListener('mouseover', () => {\n      buttons.map(button => button.classList.add('plurid-viewcube-model-transform-face-zone-active'));\n    });\n    button.addEventListener('mouseout', () => {\n      buttons.map(button => button.classList.remove('plurid-viewcube-model-transform-face-zone-active'));\n    });\n    button.addEventListener('click', () => {\n      position(viewZoneSwitch(viewZone));\n    });\n  });\n}\n\nlet previousButtons;\n\nfunction initViewcubeModelButtons(container) {\n  let faces = ['front', 'left', 'back', 'right', 'top', 'base'];\n  let rows = ['top', 'middle', 'bottom'];\n  let columns = ['left', 'center', 'right'];\n  let buttons = {};\n  let viewZones = {};\n  faces.map(face => {\n    rows.map(row => {\n      columns.map(column => {\n        const key = face + (0, _simple.capitalize)(row) + (0, _simple.capitalize)(column);\n        const selectClass = `${face}-${row}-${column}`;\n        const buttonClass = `plurid-viewcube-model-transform-${selectClass}`;\n        buttons[key] = container.getElementsByClassName(buttonClass)[0];\n        viewZones[key] = selectClass;\n      });\n    });\n  }); // Index of viewZone and zoneButtons must remain in a one-to-one correpondence.\n\n  const viewZone = [viewZones.frontMiddleCenter, viewZones.leftMiddleCenter, viewZones.backMiddleCenter, viewZones.rightMiddleCenter, viewZones.topMiddleCenter, viewZones.baseMiddleCenter, viewZones.frontMiddleLeft, viewZones.leftMiddleLeft, viewZones.backMiddleLeft, viewZones.rightMiddleLeft, viewZones.frontTopCenter, viewZones.frontBottomCenter, viewZones.leftTopCenter, viewZones.leftBottomCenter, viewZones.backTopCenter, viewZones.backBottomCenter, viewZones.rightTopCenter, viewZones.rightBottomCenter, viewZones.frontTopLeft, viewZones.leftTopLeft, viewZones.backTopLeft, viewZones.rightTopLeft, viewZones.frontBottomLeft, viewZones.leftBottomLeft, viewZones.backBottomLeft, viewZones.rightBottomLeft];\n  const zoneButtons = [[buttons.frontMiddleCenter], [buttons.leftMiddleCenter], [buttons.backMiddleCenter], [buttons.rightMiddleCenter], [buttons.topMiddleCenter], [buttons.baseMiddleCenter], [buttons.frontMiddleLeft, buttons.leftMiddleRight], [buttons.leftMiddleLeft, buttons.backMiddleRight], [buttons.backMiddleLeft, buttons.rightMiddleRight], [buttons.rightMiddleLeft, buttons.frontMiddleRight], [buttons.frontTopCenter, buttons.topBottomCenter], [buttons.frontBottomCenter, buttons.baseTopCenter], [buttons.leftTopCenter, buttons.topMiddleLeft], [buttons.leftBottomCenter, buttons.baseMiddleLeft], [buttons.backTopCenter, buttons.topTopCenter], [buttons.backBottomCenter, buttons.baseBottomCenter], [buttons.rightTopCenter, buttons.topMiddleRight], [buttons.rightBottomCenter, buttons.baseMiddleRight], [buttons.frontTopLeft, buttons.leftTopRight, buttons.topBottomLeft], [buttons.leftTopLeft, buttons.backTopRight, buttons.topTopLeft], [buttons.backTopLeft, buttons.rightTopRight, buttons.topTopRight], [buttons.rightTopLeft, buttons.frontTopRight, buttons.topBottomRight], [buttons.frontBottomLeft, buttons.leftBottomRight, buttons.baseTopLeft], [buttons.leftBottomLeft, buttons.backBottomRight, buttons.baseBottomLeft], [buttons.backBottomLeft, buttons.rightBottomRight, buttons.baseBottomRight], [buttons.rightBottomLeft, buttons.frontBottomRight, buttons.baseTopRight]];\n  zoneButtons.map((buttons, index) => {\n    setModelZoneButtons(buttons, viewZone[index]);\n  });\n}\n\n//# sourceURL=webpack:///./src/js/source/elements/viewcube/viewcube-core.js?");

/***/ }),

/***/ "./src/js/source/elements/viewcube/viewcube-define.js":
/*!************************************************************!*\
  !*** ./src/js/source/elements/viewcube/viewcube-define.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initViewcube = initViewcube;\n\nvar _complex = __webpack_require__(/*! ../../core/utils/complex */ \"./src/js/source/core/utils/complex.js\");\n\nvar _viewcubeCore = __webpack_require__(/*! ./viewcube-core */ \"./src/js/source/elements/viewcube/viewcube-core.js\");\n\nfunction initViewcube(container) {\n  // TO DO\n  // define only if multiple plurid-containers\n  // if (container.id == 'plurid-container-1') {\n  customElements.define('plurid-viewcube', PluridViewcube); // }\n\n  (0, _viewcubeCore.renderViewcube)(container);\n  (0, _viewcubeCore.initViewcubeModelButtons)(container);\n}\n\nclass PluridViewcube extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    (0, _complex.setId)(this, 'viewcube');\n    this.innerHTML = (0, _viewcubeCore.contentViewcube)();\n  }\n\n}\n\n//# sourceURL=webpack:///./src/js/source/elements/viewcube/viewcube-define.js?");

/***/ }),

/***/ "./src/js/source/main/branch.js":
/*!**************************************!*\
  !*** ./src/js/source/main/branch.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../elements/branch/branch-define */ \"./src/js/source/elements/branch/branch-define.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/branch.js?");

/***/ }),

/***/ "./src/js/source/main/container.js":
/*!*****************************************!*\
  !*** ./src/js/source/main/container.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../elements/container/container-define */ \"./src/js/source/elements/container/container-define.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/container.js?");

/***/ }),

/***/ "./src/js/source/main/content.js":
/*!***************************************!*\
  !*** ./src/js/source/main/content.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../elements/content/content-define */ \"./src/js/source/elements/content/content-define.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/content.js?");

/***/ }),

/***/ "./src/js/source/main/link.js":
/*!************************************!*\
  !*** ./src/js/source/main/link.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../elements/link/link-define */ \"./src/js/source/elements/link/link-define.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/link.js?");

/***/ }),

/***/ "./src/js/source/main/logic.js":
/*!*************************************!*\
  !*** ./src/js/source/main/logic.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../core/logic/directions */ \"./src/js/source/core/logic/directions.js\");\n\n__webpack_require__(/*! ../core/logic/quaternion */ \"./src/js/source/core/logic/quaternion.js\");\n\n__webpack_require__(/*! ../core/logic/gyroscope */ \"./src/js/source/core/logic/gyroscope.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/logic.js?");

/***/ }),

/***/ "./src/js/source/main/options.js":
/*!***************************************!*\
  !*** ./src/js/source/main/options.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../elements/options/options-define */ \"./src/js/source/elements/options/options-define.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/options.js?");

/***/ }),

/***/ "./src/js/source/main/page.js":
/*!************************************!*\
  !*** ./src/js/source/main/page.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../elements/page/page-define */ \"./src/js/source/elements/page/page-define.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/page.js?");

/***/ }),

/***/ "./src/js/source/main/root.js":
/*!************************************!*\
  !*** ./src/js/source/main/root.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../elements/root/root-define */ \"./src/js/source/elements/root/root-define.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/root.js?");

/***/ }),

/***/ "./src/js/source/main/shadow.js":
/*!**************************************!*\
  !*** ./src/js/source/main/shadow.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../elements/shadow/shadow-define */ \"./src/js/source/elements/shadow/shadow-define.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/shadow.js?");

/***/ }),

/***/ "./src/js/source/main/sheet.js":
/*!*************************************!*\
  !*** ./src/js/source/main/sheet.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../elements/sheet/sheet-define */ \"./src/js/source/elements/sheet/sheet-define.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/sheet.js?");

/***/ }),

/***/ "./src/js/source/main/solid.js":
/*!*************************************!*\
  !*** ./src/js/source/main/solid.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../elements/solid/solid-define */ \"./src/js/source/elements/solid/solid-define.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/solid.js?");

/***/ }),

/***/ "./src/js/source/main/space.js":
/*!*************************************!*\
  !*** ./src/js/source/main/space.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../elements/space/space-define */ \"./src/js/source/elements/space/space-define.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/space.js?");

/***/ }),

/***/ "./src/js/source/main/state.js":
/*!*************************************!*\
  !*** ./src/js/source/main/state.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../core/state/plurid-scene */ \"./src/js/source/core/state/plurid-scene.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/state.js?");

/***/ }),

/***/ "./src/js/source/main/themes.js":
/*!**************************************!*\
  !*** ./src/js/source/main/themes.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../core/themes/theme */ \"./src/js/source/core/themes/theme.js\");\n\n//# sourceURL=webpack:///./src/js/source/main/themes.js?");

/***/ }),

/***/ "./src/sass/app.scss":
/*!***************************!*\
  !*** ./src/sass/app.scss ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/sass/app.scss?");

/***/ })

/******/ });